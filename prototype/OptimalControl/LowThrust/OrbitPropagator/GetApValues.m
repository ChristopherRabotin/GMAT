classdef WeatherFileReader < handle
    
    properties (SetAccess = 'protected')
        weatherData
        
    end
    
    methods
        
        function [apVector] = GetApValues(mjdEpoch)
            
            % Initializations
            persistent weatherData
            if ~exist(weatherData)
                weatherData = LoadWeatherData();
            end
            
            % TODO:  Fix hard coded epoch.
            % TODO:  Improve efficiency of row search.
            year  = 2004
            month = 6;
            day   = 1;
            hour  = 12;
            [rowIdx] = GetRowIndex(weatherData,year, month, day, lastRowIdx)
            apVector = 1;

        end
        
        %%  Get row of weather file associated with current epoch
        function [rowIdx] = GetRowIndex(year, month, day)
            
            %  Initializations
            numRows = size(weatherData,1);
            
            %  TODO:  Make search more efficient 
            for rowIdx = 1:numRows
                if year == weatherData(rowIdx,1) && month == weatherData(rowIdx,2)...
                        && day == weatherData(rowIdx,3);
                    return
                end
            end
            disp('Error Reading Space Weather File:  Epoch not on file.');
            
        end
        
        %%  Load the weather data file
        function weatherData = LoadWeatherData(this);
            
            this.weatherData = ...
                [2004 05 19 2331 14  7 10  7 13 37 37 23 20 153   3   4   3   5  22  22   9   7   9 0.5 2  58 111.4 0 101.5 105.1 108.8  99.3 104.7
                2004 05 20 2331 15 17 17 27 43 17 23 30 33 207   6   6  12  32   6   9  15  18  13 0.7 3  59 107.2 0 101.5 105.0 104.6  99.3 104.7
                2004 05 21 2331 16 37 20 17 13 13 20 13  3 137  22   7   6   5   5   7   5   2   7 0.4 2  52 109.6 0 101.5 105.2 106.9  99.2 104.7
                2004 05 22 2331 17 13 27 33 20 13 13  7 13 140   5  12  18   7   5   5   3   5   8 0.4 2  47 105.0 0 101.4 105.3 102.4  99.1 104.8
                2004 05 23 2331 18 30 27 17 20 27 23 30 27 200  15  12   6   7  12   9  15  12  11 0.6 3  59 106.6 0 101.3 105.5 104.0  99.0 105.0
                2004 05 24 2331 19 33 20 33 23 33 13 13 10 180  18   7  18   9  18   5   5   4  10 0.6 3  62 107.9 0 101.2 105.6 105.2  98.8 105.1
                2004 05 25 2331 20 17 10 17 13 13 10  7  7  93   6   4   6   5   5   4   3   3   4 0.2 1  55 105.1 0 101.0 105.6 102.4  98.6 105.0
                2004 05 26 2331 21  7  7  7  7 10 10  3 13  63   3   3   3   3   4   4   2   5   3 0.1 0  43 106.1 0 100.8 105.7 103.3  98.4 105.0
                2004 05 27 2331 22 13 10 17 10  3  7 10  7  77   5   4   6   4   2   3   4   3   4 0.1 0  32 104.6 0 100.6 105.7 101.8  98.2 104.9
                2004 05 28 2331 23 10  3 10 10 23 23 27 27 133   4   2   4   4   9   9  12  12   7 0.4 2  30 105.2 0 100.4 105.7 102.4  97.9 104.9
                2004 05 29 2331 24 30 33 23 37 23 30 23 37 237  15  18   9  22   9  15   9  22  15 0.8 4  31 104.0 0 100.1 105.6 101.2  97.6 104.8
                2004 05 30 2331 25 20 17 13 30 27 20 33 37 197   7   6   5  15  12   7  18  22  12 0.7 3  35 102.4 0  99.8 105.5  99.6  97.3 104.6
                2004 05 31 2331 26 43 23 23 27 27 17 27 20 207  32   9   9  12  12   6  12   7  12 0.7 3  34  98.1 0  99.6 105.3  95.4  97.1 104.4
                2004 06 01 2331 27 37 30 33 30 37 23 27 30 247  22  15  18  15  22   9  12  15  16 0.9 4  35  92.5 0  99.5 105.2  90.0  96.9 104.2
                2004 06 02 2332  1 27 20 20 20 20 27 30 30 193  12   7   7   7   7  12  15  15  10 0.6 3  36  93.0 0  99.6 105.1  90.4  97.0 104.0
                2004 06 03 2332  2 23 30 20 10 13 10 13 27 147   9  15   7   4   5   4   5  12   8 0.4 2  37  92.6 0  99.8 104.9  90.0  97.2 103.9
                2004 06 04 2332  3 27 20 10 17 23 20 13 17 147  12   7   4   6   9   7   5   6   7 0.4 2  36  92.0 0 100.2 104.8  89.4  97.5 103.7
                2004 06 05 2332  4 27 20 13 23 23 23 27 37 193  12   7   5   9   9   9  12  22  11 0.6 3  36  87.0 0 100.7 104.6  84.5  98.0 103.4
                2004 06 06 2332  5 30 33 27 20 23 17 30 20 200  15  18  12   7   9   6  15   7  11 0.6 3  29  91.0 0 101.3 104.4  88.4  98.6 103.1
                2004 06 07 2332  6 27 17 13 13 17 10 13 37 147  12   6   5   5   6   4   5  22   8 0.4 2  37  91.2 0 102.0 104.1  88.5  99.2 102.8
                2004 06 08 2332  7 33 23 10 27 20 23 23 17 177  18   9   4  12   7   9   9   6   9 0.5 2  33  88.6 0 102.9 103.8  86.0 100.1 102.5
                2004 06 09 2332  8 30 17 23 33 30 33 30 23 220  15   6   9  18  15  18  15   9  13 0.8 4  34  87.9 0 103.9 103.5  85.2 101.1 102.1
                2004 06 10 2332  9 33 23 17  7 20  7 33 27 167  18   9   6   3   7   3  18  12  10 0.5 2  31  85.0 0 105.1 103.2  82.5 102.1 101.8
                2004 06 11 2332 10 27 10 17 13  7 10 10  3  97  12   4   6   5   3   4   4   2   5 0.2 1  24  86.5 0 106.1 102.8  83.9 103.1 101.4
                2004 06 12 2332 11  3 17 13 10 13  3  3  0  63   2   6   5   4   5   2   2   0   3 0.1 0  18  90.7 0 107.1 102.5  88.0 104.0 101.0
                2004 06 13 2332 12  0  7 10 10  7 10 10 17  70   0   3   4   4   3   4   4   6   4 0.1 0  28  98.2 0 108.0 102.2  95.2 104.9 100.7
                2004 06 14 2332 13 10 10 17 30 33 27 27 20 173   4   4   6  15  18  12  12   7  10 0.5 2  35 103.1 0 108.8 101.9  99.9 105.7 100.4
                2004 06 15 2332 14 23 27 43 27 43 37 27 23 250   9  12  32  12  32  22  12   9  18 1.0 5  44 112.9 0 109.4 101.8 109.4 106.3 100.2
                2004 06 16 2332 15 27 20 30 13 17 13  7 13 140  12   7  15   5   6   5   3   5   7 0.4 2  64 115.1 0 110.0 101.7 111.5 106.8 100.0];
        end
    end
end