

%==========================================================================
%==========================================================================
%------  Define the batch least squares solver
%==========================================================================
%==========================================================================
CanberraData.Measurements{1} = {'Range','ODSat','Canberra'};
CanberraData.Measurements{2} = {'RangeRate','ODSat','Canberra'};

%==========================================================================
%==========================================================================
%------  Define the batch least squares solver
%==========================================================================
%==========================================================================
BLS.MaxIterations   = 20;
BLS.Measurements{1} = CanberraData;
BLS.SolveFor        = {'Sat.CartesianState','Sat.Cr',...
                       'Sat.Cd','CanberraData.Range.Bias'};

%==========================================================================
%==========================================================================
%------  Define the spacecraft properties
%==========================================================================
%==========================================================================
ODSat.Epoch = 51544;
ODSat.X  = 7093;
ODSat.Y  = 321;
ODSat.Z  = 1121;
ODSat.VX = 7.0;
ODSat.VY = 2;
ODSat.VZ = 4;
ODSat.Cr = 2.2;
ODSat.Cd = 1.8;
         
%==========================================================================
%==========================================================================
%-----  Define the ground station properties    
%==========================================================================
%==========================================================================
Canberra.X = 4450;
Canberra.Y = 1000;
Canberra.Z = 2324;

%==========================================================================
%==========================================================================
%-----  Define the Propagator   
%==========================================================================
%==========================================================================

ODProp_FM.CentralBody = 'Earth';
ODProp_FM.PointMasses = {'Earth'};
ODProp.FM = ODProp_FM;
ODProp.Type = 'RungeKutta89';
ODProp.InitialStepSize = 60;
ODProp.Accuracy = 9.999999999999999e-12;
ODProp.MinStep = 0.001;
ODProp.MaxStep = 2700;
ODProp.MaxStepAttempts = 50;


RunPrototype
