<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xml:id="Vary" xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>Vary</title>

  <para>This was created using the July 2, 2008 build of GMAT.</para>

  <section>
    <title>Overview</title>

    <para>The Vary command is used in conjunction with the Target and Optimize
    Commands. The Vary command varies a particular parameter within the Target
    and Optimize Commands until certain conditions are met. It is a highly
    useful command for creating missions. Multiple Vary commands can be used
    within the same targeting or optimizing sequence.</para>

    <section>
      <title>Listing of Objects and Commands that interact</title>

      <itemizedlist>
        <listitem>
          <para>Target and Achieve and Differential Corrector</para>

          <itemizedlist>
            <listitem>
              <para>These are all used in conjunction to achieve/target a
              particular goal or characteristics.</para>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Optimize and Minimize or Nonlinear Constraint and
          Optimizer</para>

          <itemizedlist>
            <listitem>
              <para>These are all used in conjunction to achieve certain
              conditions or minimize a certain thing while under several
              constraints.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
  </section>

  <section>
    <title>Using the GUI</title>

    <itemizedlist>
      <listitem>
        <para>Solver</para>

        <itemizedlist>
          <listitem>
            <para>This allows the user to choose which Solver to use to
            achieve the desired conditions.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para>Variable Setup</para>

        <itemizedlist>
          <listitem>
            <para>This Menu box contains the information needed for the Vary
            command to vary the variables correctly, in addition to choosing
            which variable is desired to be changed. The initial guess for the
            variable is provided by the user here. Also, here the upper and
            lower bounds for the variable are given. Additionally, the maximum
            step size can be provided by the user. Also, the perturbation that
            will be used to assist in the calculations is also given by the
            user.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para>Additive Scale Factor</para>
      </listitem>

      <listitem>
        <para>Multiplicative Scale Factor</para>

        <itemizedlist>
          <listitem>
            <para>This value will scale the maneuver burn strength. The burn
            values are all multiplied by this number.</para>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>

    <screenshot>
      <info>
        <title>Figure: Default Name and Settings for the Vary Dialog
        Box</title>
      </info>

      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="???"></imagedata>
        </imageobject>

        <caption>
          <para>Figure: Default Name and Settings for the Vary Dialog
          Box</para>
        </caption>
      </mediaobject>
    </screenshot>
  </section>

  <section>
    <title>Using the script</title>

    <section>
      <title>Script Syntax</title>

      <programlisting><code>Vary SolverName(Variable=InitialGuess,{Perturbation=Arg1, MaxStep=Arg2, 
  Lower=Arg3,...Upper=Arg4, AdditiveScalefactor=Arg6,MultiplicativeScalefactor=Arg6})</code></programlisting>
    </section>

    <section>
      <title>Script Examples</title>

      <programlisting><code>% Impulsive Burn Vary Command

Vary DefaultDC(DefaultIB.V = 0.5, {Perturbation = 0.0001, MaxStep = 0.2, 
Lower = 0, Upper = 3.14159});</code></programlisting>
    </section>
  </section>

  <section>
    <title>Reference Table</title>

    <para>Parameters Associated with All Solvers</para>

    <informaltable>
      <tgroup cols="2">
        <tbody>
          <row>
            <entry><para>SolverName</para></entry>

            <entry><para>Default: DefaultDC. Options: [ Any user defined
            solver ] the SolverName option allows the user to choose which
            solver to assign to the vary command. units: N/A. </para></entry>
          </row>

          <row>
            <entry><para>Variable</para></entry>

            <entry><para>Default: DefaultIB.V.Options: [ Spacecrafy paremeter,
            Array element, Variable, or any other single element user defined
            parameter, excluding numbers ] The Variable option allows the user
            to select any single element user defined parameter, except a
            number, to vary. For example, DefaultIB.V, DefaultIB.N,
            DefaultIB.Element1, DefaultSC.TA, Array(1,1), and Variable are all
            valid values. The three element burn vector or multidimensional
            Arrays are not valid values. Units: N/A.</para></entry>
          </row>

          <row>
            <entry><para>InitialGuess</para></entry>

            <entry><para> Default: 0.5. Options: [ Real Number, Array element,
            Variable, or any user defined parameter that obeys the conditions
            for the selected Variable object] The InitialGuess option allows
            the user to set the initial guess for the selected Variable.
            Units: km/s.</para></entry>
          </row>

          <row>
            <entry><para>Lower</para></entry>

            <entry><para>Default: 0.0 . Options: [ Real Number, Array element,
            Variable, or any user defined parameter (Upper &gt; Lower ) ] The
            Lower option allows the user to set Arg3 to the lower bound of the
            quantity being varied. Units: N/A. </para></entry>
          </row>

          <row>
            <entry><para>Upper</para></entry>

            <entry><para> Default: 3.14159 . Options: [ Real Number, Array
            element, Variable, or any user defined parameter (Upper &gt; Lower
            ) ] The Upper option allows the user to set Arg4 to the upper
            bound of the quantity being varied. Units: N/A. </para></entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>

    <para>Parameters Associated with Differential Corrector</para>

    <informaltable>
      <tgroup cols="2">
        <tbody>
          <row>
            <entry><para>Perturbation</para></entry>

            <entry><para>Default: 1e-4 . Options: [ Real Number, Array
            element, Variable, or any user defined parameter &gt; 0 ] The
            Perturbation option is set by specifying a value for Arg1. The
            value of Arg1 is the perturbation size in calculating the finite
            difference derivative. Units: N/A.</para></entry>
          </row>

          <row>
            <entry><para>MaxStep</para></entry>

            <entry><para>Default: 0.2 . Options: [ Real Number, Array element,
            Variable, or any user defined parameter &gt; 0 ] The MaxStep
            option is set by specifying a value for Arg2. The value of Arg2
            limits the size of the step taken during an interaction of the
            differential corrector. Units: N/A. </para></entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>

    <para>Parameters Associated with fmincon Optimizer</para>

    <informaltable>
      <tgroup cols="2">
        <tbody>
          <row>
            <entry><para>Additive Scale Factor</para></entry>

            <entry><para>Default: 0 . Options: [ Real Number, Array element,
            Variable, or any user defined parameter ] The AdditiveScaleFactor
            Field is used to nondimensionalize the independent variable.
            fmincon sees only the nondimensional form of the variable. The
            nondimensionalization is performed using the following equation:
            x<subscript>n</subscript> = (x<subscript>d</subscript> - a)/m .
            (x<subscript>n</subscript> is the non-dimensional parameter.
            x<subscript>d</subscript> is the dimensional parameter. a=
            additive scale factor. m= multiplicative scale factor.) Units:
            N/A.</para></entry>
          </row>

          <row>
            <entry><para>Multiplicative Scale Factor}</para></entry>

            <entry><para>Default: 1.0 . Options: [ Real Number, Array element,
            Variable, or any user defined parameter ] The
            MultiplicativeScaleFactor Field is used to nondimensionalize the
            independent variable. fmincon sees only the nondimensional form of
            the variable. The nondimensionalization is performed using the
            following equation: x<subscript>n</subscript> =
            (x<subscript>d</subscript> - a)/m . (x<subscript>n</subscript> is
            the non-dimensional parameter. x<subscript>d</subscript> is the
            dimensional parameter. a= additive scale factor. m= multiplicative
            scale factor.) Units: N/A.</para></entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </section>
</section>
