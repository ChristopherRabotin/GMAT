<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xml:id="NonLinearConstraint"
         xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>NonLinearConstraint</title>

  <para>This tutorial was started from the default settings in the June 9,
  2008 build of GMAT.</para>

  <section>
    <title>Overview</title>

    <para>The nonlinear constraints in GMAT allows spacecraft properties,
    variable or array to apply constraint values, and also NonLinearConstraint
    can be created in optimize sequences. By using the fmincon optimizer,
    users can give various nonlinear constraints.</para>

    <section>
      <title>Possible Coupling with Other Objects</title>

      <itemizedlist>
        <listitem>
          <para>Optimize Command</para>

          <itemizedlist>
            <listitem>
              <para>NonLinearConstraints are used in Optimize Command.</para>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Optimizers (Solvers)</para>

          <itemizedlist>
            <listitem>
              <para>Must set optimizer in order to apply
              NonLinearConstraints.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
  </section>

  <section>
    <title>Using the GUI</title>

    <para>The NonLinearConstraint dialog contains four menus, which are
    Optimizer, Constraint, sign of equality or inequality and Constraint
    Value.</para>

    <itemizedlist>
      <listitem>
        <para>Optimizer - Drop Down Menus</para>

        <itemizedlist>
          <listitem>
            <para>Must select Optimizer in order to apply
            NonLinearConstraint</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para>Constraint - Drop Down Menus or Field</para>

        <itemizedlist>
          <listitem>
            <para>Must set Constraint by using Choose dialog or giving real
            number</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para>sign of equality or inequality - Drop Down Menus</para>

        <itemizedlist>
          <listitem>
            <para>Must select the sign of equality or inequality from the
            box</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para>Constraint Value - Drop Down Menus or Field</para>

        <itemizedlist>
          <listitem>
            <para>Must set Constraint Value by using Choose dialog or giving
            real number</para>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>

    <screenshot>
      <info>
        <title>Figure: Default NonLinearConstraint Command Dialog Box</title>
      </info>

      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="???"></imagedata>
        </imageobject>

        <caption>
          <para>Figure: Default NonLinearConstraint Command Dialog Box</para>
        </caption>
      </mediaobject>
    </screenshot>

    <screenshot>
      <info>
        <title>Figure: Parameter Selecting Dialog Box of NonLinearConstraint
        Command</title>
      </info>

      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="???"></imagedata>
        </imageobject>

        <caption>
          <para>Figure: Parameter Selecting Dialog Box of NonLinearConstraint
          Command</para>
        </caption>
      </mediaobject>
    </screenshot>
  </section>

  <section>
    <title>Using the Script</title>

    <section>
      <title>Script Syntax</title>

      <programlisting><code>NonLinearConstraint OptimizerName ({logical expression})</code></programlisting>
    </section>

    <section>
      <title>Script Examples</title>

      <programlisting><code>% Constrain the SMA of Sat to be 7000 km, using fminconSQP
NonLinearConstraint fminconSQP( Sat.SMA = 7000 );

% Constrain the SMA of Sat to be less than or equal to 7000 km, using fminconSQP
NonLinearConstraint fminconSQP( Sat.SMA &lt;= 7000 );

% Constrain the SMA of Sat to be greater than or equal to 7000 km, using fminconSQP
NonLinearConstraint fminconSQP( Sat.SMA &gt;= 7000a );</code></programlisting>
    </section>
  </section>

  <section>
    <title>Reference Table</title>

    <informaltable>
      <tgroup cols="2">
        <tbody>
          <row>
            <entry><para>OptimizeName</para></entry>

            <entry><para>Default: SQP1.</para> <para>Options: { Any existing
            fmincon solver }</para> <para>The OptimizerName option allows the
            user to specify which solver to use in satisfying nonlinear
            constraints.</para> <para>Units: N/A.</para></entry>
          </row>

          <row>
            <entry><para>{logical expression}</para></entry>

            <entry><para>Default: DefaultSC.SMA = 7000.</para> <para>Options:
            { Arg1 &lt;= Arg2 where &lt;= can be &gt;= ; &lt;= ; = }</para>
            <para>The logical expression field allows the user to specify the
            constraint to be satisfied upon convergence of the solver given by
            OptimizerName. Arg1 and Arg2 can be any of the following: Real
            Number, a 1-D Array (column vector),Array element, Variable,
            Spacecraft Parameter or any other numeric user defined parameter.
            If Arg1 is a 1-D Array, then Arg2 must be a 1-D Array with the
            same dimensions and vice-versa.</para> <para>Units:
            N/A.</para></entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </section>
</section>
