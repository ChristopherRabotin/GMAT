<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xml:id="Target" xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>Target</title>

  <para>This was created using the Default settings in the June 16, 2008 build
  of GMAT.</para>

  <section>
    <title>Overview</title>

    <para>When building a mission, the targeting sequence is one of the most
    useful tools you have at your disposal. It allows you to use the power of
    a differential corrector to find solutions to complex two and three-body
    problems with a limited number of known values and several variables.
    Target is the base command that is appended with more commands such as
    Vary, Maneuver, Propagate, and Achieve in order to meet your goals. This
    makes it the first part of the sequence to be put into the Mission
    tree.</para>

    <section>
      <title>Listing of Objects and Commands that interact</title>

      <itemizedlist>
        <listitem>
          <para>Boundary Value Solvers</para>

          <itemizedlist>
            <listitem>
              <para>In the Solver Name drop down menu you select which
              Differential Corrector you want to use for the targeting
              sequence. Any Corrector that you add to the Boundary Value
              Solvers sub menu in the Resource tree will be added here. If you
              don't provide one before adding the Target command to Mission
              tree then GMAT will add one for you and name it
              DefaultDC.</para>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Others</para>

          <itemizedlist>
            <listitem>
              <para>Though there is no direct connection within the GUI window
              to any other commands, Target is one of the few commands that
              you can 'Append'. When you Append a Target, you are basically
              adding a sequence of commands to be executed, in turn, within
              the targeting sequence. In fact, these commands make up the
              targeting sequence itself. A simple sequence may append Target
              with Vary, Maneuver, and Achieve. These will allow Target to try
              and achieve a certain value given in that command by changing
              and solving for a value given in the Vary command. The Maneuver
              is when the Impulsive Burn would be executed in the targeting
              sequence.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
  </section>

  <section>
    <title>Using the GUI</title>

    <para>The GUI window is relatively straightforward and has a few options
    that you may change.</para>

    <itemizedlist>
      <listitem>
        <para>Solver Name - Drop Down Menus</para>

        <itemizedlist>
          <listitem>
            <para>This is where you choose which Solver you would like the
            Target command to use.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para>Solver Mode - Drop Down Menus</para>

        <itemizedlist>
          <listitem>
            <para>Solve mode will be used most of the time from this menu
            because it tells the targeter to search for a solution to satisfy
            the goals that you have laid out for it.</para>
          </listitem>

          <listitem>
            <para>Use of the RunInitialGuess mode will simply mean that no
            targeting is performed and the provided initial values are run
            once but no more.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para>Exit Mode - Drop Down Menus</para>

        <itemizedlist>
          <listitem>
            <para>DiscardAndContinue will scrub the values that the targeter
            achieves after it has calculated them. This way, any subsequent
            calls to that same targeting sequence will start with fresh
            initial values and not those from the calculations of the previous
            run.</para>
          </listitem>

          <listitem>
            <para>SaveAndContinue is similar to DiscardAndContinue except that
            the values that the targeter finds from its calculations will be
            saved and used as the initial values for any subsequent runs of
            the this particular targeting sequence.</para>
          </listitem>

          <listitem>
            <para>Setting this menu to Stop will simply stop the mission after
            the targeting sequence is finished its calculations.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para>Apply Corrections - Button</para>

        <itemizedlist>
          <listitem>
            <para>Once you have run the mission at least once, you may press
            this button. Apply Corrections will replace the initial values
            provided by either you or the default settings in the mission
            sequence with the ones calculated by the targeting sequence in its
            latest run. You can use this feature instead of having multiple
            targeting sequences where one sequence uses the calculated values
            from the previous one.</para>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>

    <screenshot>
      <info>
        <title>Figure: Default Name and Settings for the Target Command Dialog
        Box</title>
      </info>

      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="???"></imagedata>
        </imageobject>

        <caption>
          <para>Figure: Default Name and Settings for the Target Command
          Dialog Box</para>
        </caption>
      </mediaobject>
    </screenshot>
  </section>

  <section>
    <title>Using the script</title>

    <section>
      <title>Script Syntax</title>

      <programlisting><code>Target SolverName;
     &lt;Statements&gt;
EndTarget;</code></programlisting>
    </section>

    <section>
      <title>Script Examples</title>

      <programlisting><code>% Beginning and ending syntax for the Target command
Target DefaultDC;

EndTarget;</code></programlisting>

      <programlisting><code>Target DefaultDC {SolveMode = RunInitialGuess, ExitMode = SaveAndContinue};
     &lt;Statements&gt;
EndTarget;  % For targeter DefaultDC</code></programlisting>
    </section>
  </section>

  <section>
    <title>Reference Table</title>

    <informaltable>
      <tgroup cols="2">
        <tbody>
          <row>
            <entry><para>SolverName</para></entry>

            <entry><para> Default: DefaultDC</para> <para> Options: { Any
            differential corrector existing in the resource tree or created in
            the script }</para> <para> The SolverName option allows the user
            to choose between any previously created differential correctors
            for use in a targeting sequence. For example, to begin a targeting
            sequence using DefaultDC, the script is Target DefaultDC.</para>
            <para> Units: N/A</para></entry>
          </row>

          <row>
            <entry><para> &lt;Statements&gt;</para></entry>

            <entry><para> Default: None</para> <para> Options: { Any
            non-targeter and non-optimizer command lines used in the mission
            sequence, as well as the targeter dependent command lines Achieve
            and Vary }</para> <para> Units: N/A</para></entry>
          </row>

          <row>
            <entry><para> SolveMode</para></entry>

            <entry><para> Default: Solve</para> <para> Options: { Solve ,
            RunInitialGuess }</para> <para> Tells the targeter state machine
            how to manage the targeter loop. When running in the
            RunInitialGuess mode, the target loop is executed one time using
            the initial values of the targeter variables. No targeting is
            performed. When running in Solve mode, the targeter searches for a
            solution satisfying the targeter goals.</para> <para> Units:
            N/A</para></entry>
          </row>

          <row>
            <entry><para> ExitMode</para></entry>

            <entry><para> Default: DiscardAndContinue</para> <para> Options: {
            DiscardAndContinue , SaveAndContinue , Stop }</para> <para> Tells
            the Mission Control Sequence how to proceed after the targeter
            loop has finished running. When running in DiscardAndContinue
            mode, subsequent calls to the same targeter loop will reset the
            variables to their initial values. If running in SaveAndContinue
            mode, the targeter variables used on a subsequent run start with
            the values obtained the last time the targeter loop was run. In
            Stop mode, the mission run halts when the targeter loop completes
            its work.</para> <para> Units: N/A</para></entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </section>
</section>
