<?xml version="1.0" encoding="UTF-8"?>
<refentry version="5.0" xml:id="SpacecraftOrbitState"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:xi="http://www.w3.org/2001/XInclude"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml"
          xmlns:db="http://docbook.org/ns/docbook">
  <indexterm>
    <primary>Spacecraft Orbit State</primary>
  </indexterm>

  <refmeta>
    <refentrytitle>Spacecraft Orbit State</refentrytitle>

    <refmiscinfo class="source">GMAT</refmiscinfo>



    <refmiscinfo class="manual">Resources</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>Spacecraft Orbit State</refname>

    <refpurpose>The orbital initial conditions</refpurpose>
  </refnamediv>

  <refsection>
    <title>Description</title>

    <para>GMAT supports a suite of state types for defining the orbital state,
    including <guilabel>Cartesian</guilabel> and
    <guilabel>Keplerian</guilabel>, among others. In addtion, you can define
    the orbital state in different coordinate systems, for example
    <guilabel>EarthMJ2000Eq</guilabel> and <guilabel>EarthFixed</guilabel>.
    GMAT provides three general state types that can be used with any
    coordinate system: <guibutton>Cartesian</guibutton>,
    <guilabel>SphericalAZFPA</guilabel>, and
    <guilabel>SphericalRADEC</guilabel>. There are three additional state
    types that can be used with coordinate systems centered at a celestial
    body: <guilabel>Keplerian</guilabel>,
    <guilabel>ModifiedKeplerian</guilabel>, and
    <guilabel>Equinoctial</guilabel>.</para>

    <para>In <xref linkend="Resources_SpacecraftOrbitState_Remarks"/> below,
    we describe each state type in detail including state-type definitions,
    singularities, and how the state fields interact with the
    <guilabel>CoordinateSystem</guilabel> and <guilabel>Epoch</guilabel>
    fields. There are some limitations when setting the orbital state during
    initialization, which are discussed in <xref
    linkend="Resources_SpacecraftOrbitState_Remarks"/>. We also include
    examples for setting each state type in commonly used coordinate
    systems.</para>

    <para><phrase role="ref_seealso">See Also</phrase>: <xref
    linkend="Spacecraft"/>, <xref linkend="Propagator"/>, and <xref
    linkend="SpacecraftEpoch"/></para>
  </refsection>

  <refsection>
    <title>Fields</title>

    <informaltable colsep="0" frame="topbot">
      <tgroup cols="2">
        <colspec colnum="1" colwidth="1.0*"/>

        <colspec colnum="2" colwidth="3*"/>

        <thead>
          <row>
            <entry>Field</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><guilabel>AOP</guilabel></entry>

            <entry><para> The orbital argument of periapsis expressed in the
            coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-∞ &lt; Real &lt; ∞</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>314.1905515359921</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>AZI</guilabel></entry>

            <entry><para> The orbital velocity azimuth expressed in the
            coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-∞ &lt; Real &lt; ∞</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>82.37742168155043</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>DEC</guilabel></entry>

            <entry><para> The declination of the orbital position expressed in
            the coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-90 &lt;= Real &lt;= 90</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>10.37584492005105</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>DECV</guilabel></entry>

            <entry><para> The declination of orbital velocity expressed in the
            coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-90 &lt;= Real &lt;= 90</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>7.747772036108118</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>ECC</guilabel></entry>

            <entry><para> The orbital eccentricity expressed in the coordinate
            system chosen in the <guilabel>CoordinateSystem</guilabel> field.
            </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para><guilabel>ECC</guilabel> &lt; 0.9999999 or
                    <guilabel>ECC</guilabel> &gt; 1.0000001. If
                    <guilabel>ECC</guilabel> &gt; 1, <guilabel>SMA</guilabel>
                    must be &lt; 0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>0.02454974900598137</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>EquinoctialH</guilabel></entry>

            <entry><para> A measure of the orbital eccentricity and argument
            of periapsis. <guilabel>EquinoctialH</guilabel> and
            <guilabel>EquinoctialK</guilabel> together govern how elliptic an
            orbit is and where the periapsis is located.
            <guilabel>EquinotialH</guilabel> = <guilabel>ECC</guilabel> *
            sin(<guilabel>AOP</guilabel>) .</para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-0.99999 &lt; <guilabel>EquinoctialH</guilabel> &lt;
                    0.99999, AND sqrt(<guilabel>EquinoctialH</guilabel>^2 +
                    <guilabel>EquinoctialK</guilabel>^2) &lt; 0.99999</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>-0.02423431419337062</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>dimless</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>EquinoctialK</guilabel></entry>

            <entry><para> A measure of the orbital eccentricity and argument
            of periapsis. <guilabel>EquinoctialH</guilabel> and
            <guilabel>EquinoctialK</guilabel> together govern how elliptic an
            orbit is and where the periapsis is located.
            <guilabel>EquinotialK</guilabel> = <guilabel>ECC</guilabel> *
            cos(<guilabel>AOP</guilabel>) </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-0.99999 &lt; <guilabel>EquinoctialK</guilabel> &lt;
                    0.99999, AND sqrt(<guilabel>EquinoctialH</guilabel>^2 +
                    <guilabel>EquinoctialK</guilabel>^2) &lt; 0.99999</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>-0.003922778585859663</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>dimless</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>EquinoctialP</guilabel></entry>

            <entry><para> A measure of the orientation of the orbit.
            <guilabel>EquinoctialP</guilabel> and
            <guilabel>EquinoctialQ</guilabel> together govern how an orbit is
            oriented. <guilabel>EquinotialP</guilabel> =
            <guilabel>tan</guilabel>(<guilabel>INC</guilabel>/2)*sin(<guilabel>RAAN</guilabel>).
            </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-Inf &lt;= Real &lt;= Inf</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>-0.09038834725719359</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>dimless</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>EquinoctialQ</guilabel></entry>

            <entry><para> A measure of the orientation of the orbit.
            <guilabel>EquinoctialP</guilabel> and
            <guilabel>EquinoctialQ</guilabel> together govern how an orbit is
            oriented. <guilabel>EquinotialQ</guilabel> =
            tan(<guilabel>INC</guilabel>/2)*cos(<guilabel>RAAN</guilabel>).
            </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-Inf &lt;= Real &lt;= Inf</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>0.06716454898232072</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>dimless</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>FPA</guilabel></entry>

            <entry><para> The orbital flight path angle expressed in the
            coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>0&lt;= Real &lt;= 180</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>88.60870365370448</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>Deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>INC</guilabel></entry>

            <entry><para> The orbital inclination expressed in the coordinate
            system chosen in the <guilabel>CoordinateSystem</guilabel> field.
            </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>0&lt;= Real &lt;= 180</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>12.85008005658097</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>MLONG</guilabel></entry>

            <entry><para> A measure of the location of the spacecraft in it's
            orbit.<guilabel> MLONG</guilabel> = <guilabel>AOP</guilabel> +
            <guilabel>RAAN</guilabel> + <guilabel>MA</guilabel>. </para>
            <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-360 &lt;= Real &lt;=360</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>357.9131803707105</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>RA</guilabel></entry>

            <entry><para> The right ascension of the orbital position
            expressed in the coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Input: -∞ &lt; Real &lt; ∞, Output -180&lt;= Real
                    &lt;= 180</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set,get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>RAAN</guilabel></entry>

            <entry><para> The orbital right ascension of the ascending node
            expressed in the coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-∞ &lt; Real &lt; ∞</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>306.6148021947984</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>RadApo</guilabel></entry>

            <entry><para>The orbital radius of apoapsis expressed in the
            coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. The radius of
            apoapsis is the maximum distance (osculating) between the
            <guilabel>Spacecraft</guilabel> and celestial body at the origin
            of <guilabel>CoordinateSystem</guilabel>. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>abs(<guilabel>RadApo</guilabel>) &gt;= 1
                    meter.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>7368.49911046818</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>RadPer</guilabel></entry>

            <entry><para>The orbital radius of periapsis expressed in the
            coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. The radius of
            periapsis is the minimum distance (osculating) between the
            <guilabel>Spacecraft</guilabel> and celestial body at the origin
            of <guilabel>CoordinateSystem</guilabel>. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>abs(<guilabel>RadPer</guilabel>) &gt;= 1
                    meter.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>7015.378524789846</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>RAV</guilabel></entry>

            <entry><para> The right ascension of orbital velocity expressed in
            the coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Input: -∞ &lt; Real &lt; ∞, Output -180&lt;=
                    <guilabel>RA</guilabel> &lt;= 180</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set,get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>90</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>RMAG</guilabel></entry>

            <entry><para> The magnitude of the orbital position vector
            expressed in the coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>RMAG &gt;= 1e-10</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>7218.032973047435</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>SMA</guilabel></entry>

            <entry><para> The orbital semi-major axis expressed in the
            coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para><guilabel>SMA</guilabel> &lt; -0.001 m or
                    <guilabel>SMA</guilabel> &gt; 0.001 meter. If
                    <guilabel>SMA</guilabel> &lt; 0, then
                    <guilabel>ECC</guilabel> must be &gt; 1</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set,get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>7191.938817629013</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>TA</guilabel></entry>

            <entry><para> The orbital true anomaly expressed in the coordinate
            system chosen in the <guilabel>CoordinateSystem</guilabel> field.
            </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-∞ &lt; Real &lt; ∞</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>99.8877493320488</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>VMAG</guilabel></entry>

            <entry><para> The magnitude of the orbital velocity vector
            expressed in the coordinate system chosen in the
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real &gt;= 1e-10</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>7.417715281675348</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km/s</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>VX</guilabel></entry>

            <entry><para>The x-component of the
            <guilabel>Spacecraft</guilabel> velocity with respect to the
            coordinate system chosen in the spacecraft's
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-∞ &lt; Real &lt; ∞</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km/s</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>VY</guilabel></entry>

            <entry><para> The y-component of the
            <guilabel>Spacecraft</guilabel> velocity with respect to the
            coordinate system chosen in the spacecraft's
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-∞ &lt; Real &lt; ∞</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>7.35</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km/s</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>VZ</guilabel></entry>

            <entry><para> The z-component of the
            <guilabel>Spacecraft</guilabel> velocity with respect to the
            coordinate system chosen in the spacecraft's
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-∞ &lt; Real &lt; ∞</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>1</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km/s</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>X</guilabel></entry>

            <entry><para> The x-component of the
            <guilabel>Spacecraft</guilabel> position with respect to the
            coordinate system chosen in the spacecraft's
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-∞ &lt; Real &lt; ∞</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set,get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>7100</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>Y</guilabel></entry>

            <entry><para>The y-component of the
            <guilabel>Spacecraft</guilabel> position with respect to the
            coordinate system chosen in the spacecraft's
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-∞ &lt; Real &lt; ∞</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>Z</guilabel></entry>

            <entry><para> The z-component of the
            <guilabel>Spacecraft</guilabel> position with respect to the
            coordinate system chosen in the spacecraft's
            <guilabel>CoordinateSystem</guilabel> field. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>-∞ &lt; Real &lt; ∞</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set, get</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>1300</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>DisplayStateType</guilabel></entry>

            <entry><para>The orbital state type displayed in the GUI. Allowed
            state types are dependent upon the selection of
            <guilabel>CoordinateSystem</guilabel>. For example, if the
            coordinate system does not have a celestial body at the origin,
            <guilabel>Keplerian</guilabel>,
            <guilabel>ModifiedKeplerian</guilabel>, and
            <guilabel>Equinoctial</guilabel> are not allowed options for
            <guilabel>DisplayStateType</guilabel>. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para><guilabel>Cartesian</guilabel>,
                    <guilabel>Keplerian</guilabel>,
                    <guilabel>ModifiedKeplerian</guilabel>,
                    <guilabel>SphericalAZFPA</guilabel>,
                    <guilabel>SphericalRADEC</guilabel>, or
                    <guilabel>Equinoctial</guilabel></para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      <guilabel>Cartesian</guilabel>
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>CoordinateSystem</guilabel></entry>

            <entry><para>The coordinate system with respect to which the
            orbital state is defined. The
            <guilabel>CoordinateSystem</guilabel> field is dependent upon the
            <guilabel>DisplayStateType</guilabel> field. If the coordinate
            system chosen by the user does not have a gravitational body at
            the origin, then the state types <guilabel>Keplerian</guilabel>,
            <guilabel>ModifiedKeplerian</guilabel>, and
            <guilabel>Equinoctial</guilabel> are not permitted. </para>
            <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para><guilabel>CoordinateSystem</guilabel>
                    resource</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      <guilabel>EarthMJ2000Eq</guilabel>
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>NAIFId</guilabel></entry>

            <entry><para> The spacecraft Id used in SPICE kernels. </para>
            <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>-123456789</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>Id</guilabel></entry>

            <entry><para> The spacecraft Id used in tracking data files. This
            field is only used for EstimationPlugin protype functionality.
            </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>SatId</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </refsection>

  <refsection>
    <title>GUI</title>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" contentdepth="100%"
                     fileref="files/images/Resource_SpacecraftOrbitEpoch_GUI.png"
                     scalefit="1" width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>The <guilabel>Spacecraft</guilabel> orbit state dialog box allows
    you to set the epoch, coordinate system, and state type values for the
    <guilabel>Spacecraft</guilabel> orbital state. When you specify an orbital
    state, you define the state in the representation selected in the
    <guilabel>StateType</guilabel> menu, with respect to the coordinate system
    specified in the <guilabel>CoordinateSystem</guilabel> menu, at the epoch
    defined in the <guilabel>Epoch</guilabel> menu. If the selected
    <guilabel>CoordinateSystem</guilabel> is time varying, the epoch of the
    coordinate system is defined by the <guilabel>Epoch</guilabel> field, and
    changing the epoch changes the inertial representation of the orbital
    state.</para>

    <para>A change in <guilabel>Epoch Format</guilabel> causes an immediate
    update to <guilabel>Epoch</guilabel> to reflect the chosen time system and
    format.</para>

    <para>The <guilabel>Keplerian</guilabel>,
    <guilabel>ModifiedKeplerian</guilabel>, and
    <guilabel>Equinoctial</guilabel> state types cannot be computed if the
    <guilabel>CoordinateSystem</guilabel> does not have a central body at the
    origin, or if the <guilabel>CoordinateSystem</guilabel> references the
    current spacecraft (resulting in a circular reference). For example, if
    you have selected the <guilabel>Keplerian</guilabel> state type,
    coordinate systems for which the Keplerian elements cannot be computed do
    not appear in the <guilabel>CoordinateSystem</guilabel> menu. Similarly,
    if you have selected a <guilabel>CoordinateSystem</guilabel> that does not
    have a celestial body at the origin, Keplerian-based state types will not
    appear as options in the <guibutton>StateType</guibutton> menu.</para>
  </refsection>

  <refsection xml:id="Resources_SpacecraftOrbitState_Remarks">
    <title>Remarks</title>

    <refsection>
      <title>Cartesian State</title>

      <para>The<guilabel> Cartesian</guilabel> state is composed of the
      position and velocity components expressed with respect to the selected
      <guilabel>CoordinateSystem</guilabel>.</para>
    </refsection>

    <refsection>
      <title>Keplerian and Modified Keplerian State Types</title>

      <para>The <guilabel>Keplerian</guilabel> and
      <guilabel>ModifiedKeplerian</guilabel> state types use the osculating
      Keplerian orbital elements with respect to the selected
      <guilabel>CoordinateSystem</guilabel>. To use either the
      <guilabel>Keplerian</guilabel> or <guilabel>ModifiedKeplerian</guilabel>
      state type, the <guilabel>Spacecraft</guilabel>’s coordinate system must
      have a central body at the origin. The two representations differ in how
      the orbit size and shape are defined. The <guilabel>Keplerian</guilabel>
      state type is composed of the following elements:<guilabel>
      SMA</guilabel>, <guilabel>ECC</guilabel>, <guilabel>INC</guilabel>,
      <guilabel>RAAN</guilabel>, <guilabel>AOP</guilabel>, and
      <guilabel>TA</guilabel>. The <guilabel>ModifiedKeplerian</guilabel>
      state type is composed of the following elements:
      <guilabel>RadApo</guilabel>, <guilabel>RadPer</guilabel>,
      <guilabel>INC</guilabel>, <guilabel>RAAN</guilabel>,
      <guilabel>AOP</guilabel>, and <guilabel>TA</guilabel>. The tables and
      figures below describe each <guilabel>Keplerian</guilabel> state element
      in detail including singularities.</para>
    </refsection>

    <refsection>
      <title>Geometry of the Keplerian Elements</title>

      <informaltable colsep="0" frame="topbot">
        <tgroup cols="2">
          <colspec colnum="1" colwidth="0.5*"/>

          <colspec colnum="2" colwidth="3*"/>

          <thead>
            <row>
              <entry>Name</entry>

              <entry>Description</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry><guilabel>SMA</guilabel></entry>

              <entry><para><guilabel>SMA</guilabel> contains information on
              the type and size of an orbit. If <guilabel>SMA</guilabel> &gt;
              0 the orbit is elliptic. If <guilabel>SMA</guilabel> &lt;0 the
              orbit is hyperbolic. <guilabel>SMA</guilabel> is infinite for
              parabolic orbits. </para></entry>
            </row>

            <row>
              <entry><guilabel>ECC</guilabel></entry>

              <entry><para><guilabel>ECC</guilabel> contains information on
              the shape of an orbit. If <guilabel>ECC</guilabel> = 0, then the
              orbit is circular. If 0 &lt; <guilabel>ECC</guilabel> &lt; 1,
              the orbit is elliptical. If , <guilabel>ECC</guilabel> = 1 the
              orbit is parabolic. If <guilabel>ECC</guilabel> &gt; 1 then the
              orbit is hyperbolic. </para></entry>
            </row>

            <row>
              <entry><guilabel>INC</guilabel></entry>

              <entry><para><guilabel>INC</guilabel> is the angle between the
              orbit angular momentum vector and the z-axis. If
              <guilabel>INC</guilabel> &lt; 90 deg., then the orbit is
              prograde. If <guilabel>INC</guilabel> &gt; 90 deg, then the
              orbit is retrograde </para></entry>
            </row>

            <row>
              <entry><guilabel>RAAN</guilabel></entry>

              <entry><para><guilabel>RAAN</guilabel> is defined as the angle
              between x-axis and the node vector measured counterclockwise.
              The node vector is defined as the cross product of the z-axis
              and orbit angular momentum vector. <guilabel>RAAN</guilabel> is
              undefined for equatorial orbits. </para></entry>
            </row>

            <row>
              <entry><guilabel>AOP</guilabel></entry>

              <entry><para><guilabel>AOP</guilabel> is the angle between a
              vector pointing at periapsis and a vector pointing in the
              direction of the line of nodes. <guilabel>AOP</guilabel> is
              undefined for circular orbits.</para></entry>
            </row>

            <row>
              <entry><guilabel>TA</guilabel></entry>

              <entry><para><guilabel>TA</guilabel> is defined as the angle
              between a vector pointing at periapsis and a vector pointing at
              the spacecraft. <guilabel>TA</guilabel> is undefined for
              circular orbits. </para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>

      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata align="center" contentdepth="100%"
                       fileref="files/images/Resource_SpacecraftOrbitState_Remark_2.png"
                       scalefit="1" width="100%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>The <guilabel>Keplerian</guilabel> and
      <guilabel>ModifiedKeplerian</guilabel> state types have several
      singularities. The table below describes the different singularities and
      how each is handled in the state conversion algorithms.</para>

      <informaltable colsep="0" frame="topbot">
        <tgroup cols="2">
          <colspec colnum="1" colwidth="1.0*"/>

          <colspec colnum="2" colwidth="3*"/>

          <thead>
            <row>
              <entry>Singularity</entry>

              <entry>Comments and Behavior</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry><guilabel>ECC = 1</guilabel></entry>

              <entry><para><guilabel>SMA</guilabel> is infinite and cannot be
              used to define the size of the orbit. GMAT requires
              <guilabel>ECC</guilabel> &lt; 0.9999999 or
              <guilabel>ECC</guilabel> &gt; 1.0000001 when setting
              <guilabel>ECC</guilabel> or when performing conversions. For
              transformations performed near these limits, loss of precision
              may occur. </para></entry>
            </row>

            <row>
              <entry><guilabel>ECC = 0</guilabel></entry>

              <entry><para><guilabel>AOP</guilabel> is undefined. If
              <guilabel>ECC</guilabel> &lt;= 1e-11, GMAT sets<guilabel>
              AOP</guilabel> to zero in the conversion from
              <guilabel>Cartesian</guilabel> to
              <guilabel>Keplerian/ModKeplerian</guilabel> and includes all
              orbital-plane angular displacement in the true anomaly.
              </para></entry>
            </row>

            <row>
              <entry><guilabel>SMA = 0</guilabel></entry>

              <entry><para>Results in a singular conic section. GMAT requires
              |<guilabel>SMA</guilabel>| &gt; 1 meter when inputting
              <guilabel>SMA</guilabel>. </para></entry>
            </row>

            <row>
              <entry><guilabel>SMA = INF</guilabel></entry>

              <entry><para><guilabel>SMA</guilabel> is infinite and another
              parameter is required to capture the size of the orbit.
              <guilabel>Keplerian</guilabel> elements are not supported.
              </para></entry>
            </row>

            <row>
              <entry><guilabel>INC = 0</guilabel></entry>

              <entry><para><guilabel>RAAN</guilabel> is undefined. If
              <guilabel>INC</guilabel> &lt; 1e-11, GMAT sets <guilabel>RAAN
              </guilabel>to 0 degrees in conversion from
              <guilabel>Cartesian</guilabel> to
              <guilabel>Keplerian/ModKeplerian</guilabel>. Then, if
              <guilabel>ECC</guilabel> is also &lt; 1e-11,
              <guilabel>AOP</guilabel> is set to 0 and GMAT includes all
              angular displacement between the x-axis and the spacecraft in
              the true anomaly. If <guilabel>ECC </guilabel>&gt; 1e-11,
              then<guilabel> AOP</guilabel> is computed as the angle between
              the eccentricity vector and the x-axis </para></entry>
            </row>

            <row>
              <entry><guilabel>INC = 180</guilabel></entry>

              <entry><para><guilabel>RAAN</guilabel> is undefined. If
              <guilabel>INC</guilabel> &gt; 180 - 1.0e-11,
              <guilabel>Keplerian</guilabel>, <guilabel>Modified
              Keplerian</guilabel>, and <guilabel>Equinoctial</guilabel>
              elements are not supported. For transformations performed near
              these limits, loss of precision may occur. </para></entry>
            </row>

            <row>
              <entry><guilabel>RadPer = 0</guilabel></entry>

              <entry><para>Singular conic section. GMAT requires
              <guilabel>RadPer</guilabel> &gt; 1 meter in state conversions.
              </para></entry>
            </row>

            <row>
              <entry><guilabel>RadApo = 0</guilabel></entry>

              <entry><para>Singular conic section. GMAT requires
              abs(<guilabel>RadApo</guilabel>) &gt; 1 meter in state
              conversions. </para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </refsection>

    <refsection>
      <title>Spherical State Types</title>

      <para>The <guilabel>SphericalAZFPA </guilabel>and
      <guilabel>SphericalRADEC</guilabel> state types are composed of the
      polar coordinates of the spacecraft state expressed with respect to the
      selected <guilabel>CoordinateSystem</guilabel>. The two spherical
      representations differ in how the velocity is defined. The
      <guilabel>SphericalRADEC</guilabel> state type is composed of the
      following elements: <guilabel>RMAG</guilabel>, <guilabel>RA</guilabel>,
      <guilabel>DEC</guilabel>, <guilabel>VMAG</guilabel>,
      <guilabel>RAV</guilabel>, and <guilabel>DECV</guilabel>. The
      <guilabel>SphericalAZFPA</guilabel> state type is composed of the
      following elements: <guilabel>RMAG</guilabel>, <guilabel>RA</guilabel>,
      <guilabel>DEC</guilabel>, <guilabel>VMAG</guilabel>,
      <guilabel>AZ</guilabel>I and <guilabel>FPA</guilabel>. The tables and
      figures below describe each spherical state element in detail including
      singularities.</para>
    </refsection>

    <refsection>
      <title>Geometry of the Spherical Elements</title>

      <informaltable colsep="0" frame="topbot">
        <tgroup cols="2">
          <colspec colnum="1" colwidth="0.5*"/>

          <colspec colnum="2" colwidth="3*"/>

          <thead>
            <row>
              <entry>Name</entry>

              <entry>Description</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry><guilabel>RMAG</guilabel></entry>

              <entry><para>The magnitude of the position
              vector.</para></entry>
            </row>

            <row>
              <entry><guilabel>RA</guilabel></entry>

              <entry><para>The right ascension which is the angle between the
              projection of the position vector into the xy-plane and the
              x-axis measured counterclockwise. </para></entry>
            </row>

            <row>
              <entry><guilabel>DEC</guilabel></entry>

              <entry><para>The declination which is the angle between tjhe
              position vector and the xy-plane. </para></entry>
            </row>

            <row>
              <entry><guilabel>VMAG</guilabel></entry>

              <entry><para>The magnitude of the velocity vector.
              </para></entry>
            </row>

            <row>
              <entry><guilabel>FPA</guilabel></entry>

              <entry><para>The vertical flight path angle. The angle measured
              from a plane normal to the postion vector to the velocity vector
              , measured in the plane formed by position vector and velocity
              vector. </para></entry>
            </row>

            <row>
              <entry><guilabel>AZI</guilabel></entry>

              <entry><para>The flight path azimuth. The angle measured from
              the vector perpendicular to the position vector and pointing
              north, to the projection of the velocity vector, into a plane
              normal to the position vector.</para></entry>
            </row>

            <row>
              <entry><guilabel>RAV</guilabel></entry>

              <entry><para>The right ascension of velocity. The angle between
              the projection of the velocity vector into the xy-plane and the
              x-axis measured counterclockwise.</para></entry>
            </row>

            <row>
              <entry><guilabel>DECV</guilabel></entry>

              <entry><para>The flight path azimuth. The angle between the
              velocity vector and the xy-plane.</para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>

      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata align="center" contentdepth="100%"
                       fileref="files/images/Resource_SpacecraftOrbitState_Remark_4.png"
                       scalefit="1" width="100%"/>
          </imageobject>
        </mediaobject>
      </screenshot>
    </refsection>

    <refsection>
      <title>Singularities in the Spherical Elements</title>

      <informaltable colsep="0" frame="topbot">
        <tgroup cols="2">
          <colspec colnum="1" colwidth="1.0*"/>

          <colspec colnum="2" colwidth="3*"/>

          <thead>
            <row>
              <entry>Singularity</entry>

              <entry>Comments and Behavior</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry><guilabel>RMAG = 0</guilabel></entry>

              <entry><para>Results in a singular conic section: declination
              and flight path angle are undefined. GMAT will not allow
              transformations if <guilabel>RMAG</guilabel> &lt; 1e-10. For
              <guilabel>RMAG</guilabel> values greater than, but near 1e-10,
              loss of precision may occur in transformations. </para></entry>
            </row>

            <row>
              <entry><guilabel>VMAG = 0</guilabel></entry>

              <entry><para>Results in a singular conic section: velocity
              declination and flight path angle are undefined. GMAT will not
              allow transformations if <guilabel>VMAG</guilabel> &lt;
              1e-10.For <guilabel>VMAG</guilabel> values greater than, but
              near 1e-10, loss of precision may occur in transformations.
              </para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </refsection>

    <refsection>
      <title>Equinoctial State Type</title>

      <para>GMAT supports the <guilabel>Equinoctial</guilabel> state
      representation which is non-singular for elliptic orbits with
      inclinations less than 180 degrees. To use the
      <guilabel>Equinoctial</guilabel> state type, the spacecraft’s coordinate
      system must have a central body at the origin.</para>

      <informaltable colsep="0" frame="topbot">
        <tgroup cols="2">
          <colspec colnum="1" colwidth="1.5*"/>

          <colspec colnum="2" colwidth="3*"/>

          <thead>
            <row>
              <entry>Element</entry>

              <entry>Description</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry><guilabel>SMA</guilabel></entry>

              <entry><para>See Keplerian section. </para></entry>
            </row>

            <row>
              <entry><guilabel>EquinoctialH</guilabel></entry>

              <entry><para>A measure of the orbital eccentricity and argument
              of periapsis. <guilabel>EquinoctialH</guilabel> and
              <guilabel>EquinoctialK</guilabel> together govern how elliptical
              an orbit is and where the periapsis is located.<guilabel>
              EquinotialH </guilabel>= <guilabel>ECC</guilabel> *
              sin(<guilabel>AOP</guilabel>). </para></entry>
            </row>

            <row>
              <entry><guilabel>EquinoctialK</guilabel></entry>

              <entry><para>A measure of the orbital eccentricity and argument
              of periapsis. <guilabel>EquinoctialH</guilabel> and<guilabel>
              EquinoctialK</guilabel> together govern how eliptical an orbit
              is and where the periapsis is located.
              <guilabel>EquinotialK</guilabel> = <guilabel>ECC</guilabel> *
              cos(<guilabel>AOP</guilabel>) </para></entry>
            </row>

            <row>
              <entry><guilabel>EquinoctialP</guilabel></entry>

              <entry><para>A measure of the orientation of the orbit.
              <guilabel>EquinoctialP</guilabel> and
              <guilabel>EquinoctialQ</guilabel> together govern how an orbit
              is oriented. <guilabel>EquinotialP</guilabel> =
              tan(<guilabel>INC</guilabel>/2)*sin(<guilabel>RAAN</guilabel>).
              </para></entry>
            </row>

            <row>
              <entry><guilabel>EquinoctialQ</guilabel></entry>

              <entry><para> A measure of the orientation of the orbit.
              <guilabel>EquinoctialP</guilabel> and
              <guilabel>EquinoctialQ</guilabel> together govern how an orbit
              is oriented. <guilabel>EquinotialQ</guilabel> =
              tan(<guilabel>INC</guilabel>/2)*cos(<guilabel>RAAN</guilabel>).
              </para></entry>
            </row>

            <row>
              <entry><guilabel>MLONG</guilabel></entry>

              <entry><para> A measure of the mean location of the spacecraft
              in its orbit. <guilabel>MLONG</guilabel> =
              <guilabel>AOP</guilabel> +<guilabel> RAAN</guilabel> +
              <guilabel>MA</guilabel>. </para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </refsection>

    <refsection>
      <title>Singularities in the Spherical Elements</title>

      <informaltable colsep="0" frame="topbot">
        <tgroup cols="2">
          <colspec colnum="1" colwidth="1.5*"/>

          <colspec colnum="2" colwidth="3*"/>

          <thead>
            <row>
              <entry>Element</entry>

              <entry>Description</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry><guilabel>INC = 180</guilabel></entry>

              <entry><para><guilabel>RAAN</guilabel> is undefined. If
              <guilabel>INC</guilabel> &gt; 180 - 1.0e-11, GMAT sets
              <guilabel>RAAN</guilabel> to 0 degrees. GMAT does not support
              <guilabel>Equinoctial</guilabel> elements for true retrograde
              orbits. </para></entry>
            </row>

            <row>
              <entry><guilabel>ECC &gt; 0.9999999</guilabel></entry>

              <entry><para><guilabel>Equinoctial</guilabel> elements are not
              defined for parabolic or hyperbolic orbits. </para></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </refsection>

    <refsection>
      <title>State Component Interactions with the Spacecraft Coordinate
      System Field</title>

      <para>When you define <guilabel>Spacecraf</guilabel>t state elements
      such as <guilabel>SMA</guilabel>, <guilabel>X</guilabel>, or
      <guilabel>DEC</guilabel> for example, these values are set in
      coordinates defined by the <guilabel>Spacecraft</guilabel>’s
      <guilabel>CoordinateSystem</guilabel> field. For example, the following
      lines result in the X-component of the <guilabel>Cartesian</guilabel>
      state of <guilabel>MySat</guilabel> to be <literal>1000</literal>, in
      the <guilabel>EarthFixed</guilabel> system.</para>

      <programlisting><code>aSpacecraft.CoordinateSystem = EarthFixed
aSpacecraft.X = 1000  </code>      </programlisting>

      <para>When the script lines above are executed in a script, GMAT
      converts the state to the specified coordinate system, in this case
      <guilabel>EarthFixed</guilabel>, sets the <guilabel>X</guilabel>
      component to <literal>1000</literal>, and then converts the state back
      to the internal inertial representation.</para>

      <para>The following example sets <guilabel>SMA</guilabel> to
      <literal>8000</literal> in the <guilabel>EarthMJ2000Eq</guilabel>
      system, then sets <guilabel>X</guilabel> to <literal>6000</literal> in
      the Earth fixed system. (Note this is NOT allowed in initialization
      mode; see later remarks for more information).</para>

      <programlisting><code>aSpacecraft.CoordinateSystem = EarthMJ2000Eq
aSpacecraft.SMA = 8000
aSpacecraft.CoordinateSystem = EarthFixed
aSpacecraft.X = 6000</code></programlisting>
    </refsection>

    <refsection>
      <title>State Component Interactions with the Spacecraft Epoch
      Field</title>

      <para>When you specify the <guilabel>Spacecraft</guilabel>’s epoch, you
      define the initial epoch of the spacecraft in the specified coordinate
      system. If your choice for the <guilabel>Spacecraft</guilabel>'s
      coordinate system is a time varying system such as the
      <guilabel>EarthFixed</guilabel> system, then you define the state in the
      <guilabel>EarthFixed</guilabel> system at that epoch. For example, the
      following lines would result in the cartesian state of
      <guilabel>MySat</guilabel> to be set to <literal>[7000 0 1300 0 7.35
      1]</literal> in the <guilabel>EarthFixed</guilabel> system at
      <literal>01 Dec 2000 12:00:00.000</literal> UTC.</para>

      <programlisting><code>Create Spacecraft MySat
MySat.Epoch.UTCGregorian = '01 Dec 2000 12:00:00.000'
MySat.CoordinateSystem = EarthFixed
MySat.X = 7000
MySat.Y = 0
MySat.Z = 1300
MySat.VX = 0
MySat.VY = 7.35
MySat.VZ = 1</code>      </programlisting>

      <para>The corresponding <guilabel>EarthMJ2000Eq</guilabel>
      representation is</para>

      <programlisting><code>X  = -2320.30266
Y  = -6604.25075
Z  =  1300.02599
VX =  7.41609
VY = -2.60562
VZ =  0.99953</code></programlisting>

      <para>You can change the epoch of a <guilabel>Spacecraft</guilabel> in
      the mission sequence using a script line like this:</para>

      <programlisting><code>MySat.Epoch.TAIGregorian = '02 Dec 2000 12:00:00.000'</code></programlisting>

      <para>When the above line is executed in the mission sequence, GMAT
      converts the state to the specified coordinate system and then to the
      specified state type — in this case <guilabel>EarthFixed</guilabel> and
      <guilabel>Cartesian</guilabel> respectively — sets the epoch to the
      value of <literal>02 Dec 2000 12:00:00.000</literal>, and then converts
      the state back to the internal representation. This behavior is
      identical to that of the spacecraft orbit dialog box in the GUI. Because
      the coordinate system in this case is time varying, changing the
      spacecraft epoch has resulted in a change in the spacecraft's inertial
      state representation. After the epoch is changed to <literal>02 Dec 2000
      12:00:00.000</literal>, the <guilabel>EarthMJ2000Eq</guilabel> state
      representation is now:</para>

      <programlisting><code>X  = -2206.35771
Y  = -6643.18687
Z  =  1300.02073
VX =  7.45981
VY = -2.47767
VZ =  0.99953       </code>      </programlisting>
    </refsection>

    <refsection>
      <title>Scripting Limitations during Initialization</title>

      <para>When setting the <guilabel>Spacecraft</guilabel> orbit state in a
      script, there are a few limitations to be aware of. In the
      initialization portion of the script (before the
      <guilabel>BeginMissionSequence</guilabel> command), you should set the
      epoch and coordinate system only once; multiple definitions of these
      parameters will result in either errors or warning messages and may lead
      to unexpected results.</para>

      <para>Also when setting a state during initialization, you must set the
      orbit state in a set of fields corresponding to a single state type. For
      example, set the orbit state using the <guilabel>X</guilabel>,
      <guilabel>Y</guilabel>, <guilabel>Z</guilabel>, <guilabel>VX</guilabel>,
      <guilabel>VY</guilabel>, <guilabel>VZ</guilabel> fields (for the
      <guilabel>Cartesian</guilabel> state type) or the <guilabel>SMA, ECC,
      INC, RAAN, AOP</guilabel>, <guilabel>TA</guilabel> fields (for the
      <guilabel>Keplerian</guilabel> state type), but not a mixture of the
      two. If you need to mix state types, coordinate systems, or epochs to
      define the state of a spacecraft, you must set the state using scripting
      in the mission sequence (after the
      <guilabel>BeginMissionSequence</guilabel> command).</para>
    </refsection>
  </refsection>

  <refsection>
    <title>Examples</title>

    <informalexample>
      <para>Define a <guilabel>Spacecraft</guilabel>’s Earth MJ2000Eq
      coordinates in the <guilabel>Keplerian</guilabel> representation:</para>

      <programlisting><code>Create Spacecraft aSpacecraft
aSpacecraft.CoordinateSystem = EarthMJ2000Eq
aSpacecraft.SMA  = 7100
aSpacecraft.ECC  = 0.01
aSpacecraft.INC  = 30
aSpacecraft.RAAN = 45
aSpacecraft.AOP  = 90
aSpacecraft.TA   = 270     </code></programlisting>
    </informalexample>

    <informalexample>
      <para>Define a <guilabel>Spacecraft</guilabel>’s Earth fixed coordinates
      in the <guilabel>Cartesian</guilabel> representation:</para>

      <programlisting><code>Create Spacecraft aSpacecraft
aSpacecraft.CoordinateSystem = EarthFixed
aSpacecraft.X = 7100
aSpacecraft.Y = 0
aSpacecraft.Z = 1300
aSpacecraft.VX = 0
aSpacecraft.VY = 7.35
aSpacecraft.VZ = 1</code></programlisting>
    </informalexample>

    <informalexample>
      <para>Define a <guilabel>Spacecraft</guilabel>’s Moon centered
      coordinates in <guilabel>ModifiedKeplerian</guilabel>
      representation.</para>

      <programlisting><code>Create CoordinateSystem MoonInertial
MoonInertial.Origin = Luna
MoonInertial.Axes = BodyInertial

Create Spacecraft aSpacecraft
aSpacecraft.CoordinateSystem = MoonInertial
aSpacecraft.RadPer = 2100
aSpacecraft.RadApo = 2200
aSpacecraft.INC = 90
aSpacecraft.RAAN = 45
aSpacecraft.AOP = 45
aSpacecraft.TA = 180</code></programlisting>
    </informalexample>

    <informalexample>
      <para>Define a <guilabel>Spacecraft</guilabel>’s Rotating Libration
      Point coordinates in the <guilabel>SphericalAZFPA</guilabel>
      representation:</para>

      <programlisting><code>Create LibrationPoint ESL1
ESL1.Primary = Sun
ESL1.Secondary = Earth
ESL1.Point = L1

Create CoordinateSystem EarthSunL1CS
EarthSunL1CS.Origin = ESL1 
EarthSunL1CS.Axes = ObjectReferenced
EarthSunL1CS.XAxis = R
EarthSunL1CS.ZAxis = N
EarthSunL1CS.Primary = Sun
EarthSunL1CS.Secondary = Earth

Create Spacecraft aSpacecraft
aSpacecraft.CoordinateSystem = EarthSunL1CS
aSpacecraft.DateFormat = UTCGregorian
aSpacecraft.Epoch = '09 Dec 2005 13:00:00.000'
aSpacecraft.RMAG = 1520834.130720907
aSpacecraft.RA = -111.7450242065574
aSpacecraft.DEC = -20.23326432189756
aSpacecraft.VMAG = 0.2519453702907011
aSpacecraft.AZI = 85.22478175803107
aSpacecraft.FPA = 97.97050698644287        </code></programlisting>
    </informalexample>

    <informalexample>
      <para>Set a <guilabel>Spacecraft</guilabel>’s Earth MJ2000 ecliptic
      coordinates in the <guilabel>Equinoctial</guilabel>
      representation:</para>

      <programlisting><code>Create Spacecraft aSpacecraft
aSpacecraft.CoordinateSystem = EarthMJ2000Ec
aSpacecraft.SMA = 9100
aSpacecraft.EquinoctialH = 0.00905
aSpacecraft.EquinoctialK = 0.00424
aSpacecraft.EquinoctialP = -0.1059
aSpacecraft.EquinoctialQ = 0.14949
aSpacecraft.MLONG = 247.4528</code></programlisting>
    </informalexample>
  </refsection>
</refentry>
