<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xml:id="ReleaseNotesR2013b"
         xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>GMAT R2014a Release Notes</title>

  <para>The General Mission Analysis Tool (GMAT) version R2014a was released
  May 2014. This is the first public release since April 2013, and is the 8th
  release for the project.</para>

  <para>Below is a summary of key changes in this release. Please see the full
  <link
  xlink:href="http://bugs.gmatcentral.org/secure/ReleaseNote.jspa?projectId=10000&amp;version=10500">R2014a
  Release Notes</link> on JIRA for a complete list.</para>

  <section>
    <title>New Features</title>

    <section>
      <title>Trajectory Colors and Labels</title>

      <para>In GMAT R2014a, you can now specify colors for each segment of
      your trajectory independently, so you can clearly see where a segment
      begins and ends. This can help define portions of a trajectory, such as
      before or after maneuvers. All color handling has also been moved from
      the graphics resources (<guilabel>OrbitView</guilabel> and
      <guilabel>GroundTrackPlot</guilabel>) to the resources and commands
      controlling the trajectory (e.g. <guilabel>Spacecraft</guilabel>,
      <guilabel>Planet</guilabel>, <guilabel>Propagate</guilabel>).</para>

      <para>On Spacecraft, the color specification has moved to the
      Visualization tab. See the circled area in the screenshot below. Colors
      for celestial bodies (<guilabel>Planet</guilabel>,
      <guilabel>Moon</guilabel>, <guilabel>Asteroid</guilabel>, etc.) are
      specified similarly.</para>

      <informalfigure>
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="files/images/relnotes/r2014a/SpacecraftVisualization.png"
                         scale="50"/>
            </imageobject>
          </mediaobject>
        </screenshot>
      </informalfigure>

      <para>The trajectory color associated with a particular trajectory
      segment can be changed by changing the color for that particular
      <guilabel>Propagate</guilabel> command. It will override the color for
      the Spacecraft being propagated for that segment only, and it will
      return to the default color afterwards.</para>

      <informalfigure>
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="files/images/relnotes/r2014a/Propagate.png"
                         scale="50"/>
            </imageobject>
          </mediaobject>
        </screenshot>
      </informalfigure>

      <para>Additionally, colors can now be specified either by name
      (<literal>'Blue'</literal>) or by hex RGB value (<literal>[0 0
      255]</literal>).</para>

      <para>This release also adds participant labels in the graphics as well.
      As long as
      <guilabel>OrbitView</guilabel>.<guilabel>ShowLabels</guilabel> is
      enabled, each celestial body or <guilabel>Spacecraft</guilabel> in the
      plot will show its name next to it.</para>

      <para>See the following example:</para>

      <programlisting><code>Create Spacecraft aSat
aSat.OrbitColor = 'Blue'

Create Propagator aProp

Create OrbitView aView
aView.Add = {aSat, Earth}
aView.XYPlane = off
aView.Axes = off
aView.EnableConstellations = off
aView.ShowLabels = on

BeginMissionSequence

Propagate aProp(aSat) {aSat.ElapsedSecs = 900}                     % plots in blue
aSat.OrbitColor = 'Green'
Propagate aProp(aSat) {aSat.ElapsedSecs = 900}                     % plots in green
Propagate aProp(aSat) {aSat.ElapsedSecs = 900, OrbitColor = Red}   % plots in red</code></programlisting>

      <para>This example results in the following image:</para>

      <informalfigure>
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="files/images/relnotes/r2014a/OrbitViewExample.png"
                         scale="50"/>
            </imageobject>
          </mediaobject>
        </screenshot>
      </informalfigure>

      <para>See the <link linkend="Color">Color</link> reference, as well as
      the individual <link linkend="Spacecraft">Spacecraft</link>, <link
      linkend="CelestialBody">CelestialBody</link>, <link
      linkend="Propagate">Propagate</link>, and <link
      linkend="OrbitView">OrbitView</link> references, for more
      information.</para>
    </section>

    <section>
      <title>New Orbit State Representations</title>

      <para>GMAT now supports six new common orbit state representations,
      developed with support by the Korean Aerospace Research Institute
      (KARI). The new representations are:<itemizedlist spacing="compact">
          <listitem>
            <para>Long- and short-period Brouwer-Lyddane mean elements
            (<guilabel>BrouwerMeanLong</guilabel> and
            <guilabel>BrouwerMeanShort</guilabel>)</para>
          </listitem>

          <listitem>
            <para>Incoming and outgoing hyperbolic asymptote elements
            (<guilabel>IncomingAsymptote</guilabel> and
            <guilabel>OutgoingAsymptote</guilabel>)</para>
          </listitem>

          <listitem>
            <para>Modified equinoctial elements
            (<guilabel>ModifiedEquinoctial</guilabel>)</para>
          </listitem>

          <listitem>
            <para>Alternate equinoctial elements
            (<guilabel>AlternateEquinoctial</guilabel>)</para>
          </listitem>

          <listitem>
            <para>Delaunay elements (<guilabel>Delaunay</guilabel>)</para>
          </listitem>

          <listitem>
            <para>Planetodetic elements, when using a body-fixed coordinate
            system (<guilabel>Planetodetic</guilabel>)</para>
          </listitem>
        </itemizedlist></para>

      <para>The new representations are available as new options in the
      <guilabel>Spacecraft</guilabel> "<guilabel>State Type</guilabel>" list,
      and as options to the
      <guilabel>Spacecraft</guilabel>.<guilabel>DisplayStateType</guilabel>
      field.</para>

      <informalfigure>
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="files/images/relnotes/r2014a/SpacecraftStateTypes.png"
                         scale="50"/>
            </imageobject>
          </mediaobject>
        </screenshot>
      </informalfigure>

      <para>See the <link linkend="SpacecraftOrbitState">Spacecraft Orbit
      State</link> reference for more information.</para>
    </section>
  </section>

  <section>
    <title>Improvements</title>

    <section>
      <title>Force Model Parameters</title>

      <para>You can now access <guilabel>ForceModel</guilabel>-dependent
      parameters, such as <guilabel>Spacecraft</guilabel> acceleration and
      atmospheric density. The new parameters are:<itemizedlist
          spacing="compact">
          <listitem>
            <para><literal><replaceable>Spacecraft</replaceable>.<replaceable>ForceModel</replaceable>.Acceleration</literal></para>
          </listitem>

          <listitem>
            <para><literal><replaceable>Spacecraft</replaceable>.<replaceable>ForceModel</replaceable>.AccelerationX</literal></para>
          </listitem>

          <listitem>
            <para><literal><replaceable>Spacecraft</replaceable>.<replaceable>ForceModel</replaceable>.AccelerationY</literal></para>
          </listitem>

          <listitem>
            <para><literal><replaceable>Spacecraft</replaceable>.<replaceable>ForceModel</replaceable>.AccelerationZ</literal></para>
          </listitem>

          <listitem>
            <para><literal><replaceable>Spacecraft</replaceable>.<replaceable>ForceModel</replaceable>.AtmosDensity</literal></para>
          </listitem>
        </itemizedlist></para>
    </section>

    <section>
      <title>Space Point Parameters</title>

      <para>All Resources that have coordinates in space now have Cartesian
      position and velocity parameters, so you can access ephemeris
      information. This includes all built-in solar system bodies and other
      Resources such as
      <guilabel>CelestialBody</guilabel>,<guilabel>Planet</guilabel>,
      <guilabel>Moon</guilabel>, <guilabel>Asteroid</guilabel>,
      <guilabel>Comet</guilabel>, <guilabel>Barycenter</guilabel>,
      <guilabel>LibrationPoint</guilabel>, and
      <guilabel>GroundStation</guilabel> :</para>

      <itemizedlist spacing="compact">
        <listitem>
          <para><literal><replaceable>CelestialBody</replaceable>.<replaceable>CoordinateSystem</replaceable>.X</literal></para>
        </listitem>

        <listitem>
          <para><literal><replaceable>CelestialBody</replaceable>.<replaceable>CoordinateSystem</replaceable>.Y</literal></para>
        </listitem>

        <listitem>
          <para><literal><replaceable>CelestialBody</replaceable>.<replaceable>CoordinateSystem</replaceable>.Z</literal></para>
        </listitem>

        <listitem>
          <para><literal><replaceable>CelestialBody</replaceable>.<replaceable>CoordinateSystem</replaceable>.VX</literal></para>
        </listitem>

        <listitem>
          <para><literal><replaceable>CelestialBody</replaceable>.<replaceable>CoordinateSystem</replaceable>.VY</literal></para>
        </listitem>

        <listitem>
          <para><literal><replaceable>CelestialBody</replaceable>.<replaceable>CoordinateSystem</replaceable>.VZ</literal></para>
        </listitem>
      </itemizedlist>

      <para>Note that to use these parameters, you must first set the epoch of
      the Resource to the desired epoch at which you want the data. See the
      following example:</para>

      <programlisting><code>Create ReportFile rf

BeginMissionSequence

Luna.Epoch.A1ModJulian = 21545
Report rf Luna.EarthMJ2000Eq.X Luna.EarthMJ2000Eq.Y Luna.EarthMJ2000Eq.Z ...
       Luna.EarthMJ2000Eq.VX Luna.EarthMJ2000Eq.VY Luna.EarthMJ2000Eq.VZ</code></programlisting>
    </section>
  </section>

  <section>
    <title>Compatibility Changes</title>

    <itemizedlist>
      <listitem>
        <para><literal><replaceable><replaceable>EphemerisFile</replaceable></replaceable>.InitialEpoch</literal>
        now cannot be later than
        <literal><replaceable>EphemerisFile</replaceable>.FinalEpoch</literal>.
        See the <link linkend="EphemerisFile">EphemerisFile</link> reference
        for details.</para>
      </listitem>

      <listitem>
        <para>When
        <literal><replaceable>EphemerisFile</replaceable>.FileFormat</literal>
        is set to <literal>'SPK'</literal>,
        <literal><replaceable>EphemerisFile</replaceable>.CoordinateSystem</literal>
        must have <literal>MJ2000Eq</literal> as the axis system. Other axis
        systems are no longer allowed with this ephemeris format. See the
        <link linkend="EphemerisFile">EphemerisFile</link> reference for
        details.</para>
      </listitem>

      <listitem>
        <para>The deprecated fields
        <literal><replaceable>Thruster</replaceable>.Element{1–3}</literal>
        have been removed. Use
        <literal><replaceable>Thruster</replaceable>.ThrustDirection{1–3}</literal>
        instead. See the <link linkend="Thruster">Thruster</link> reference
        for details.</para>
      </listitem>

      <listitem>
        <para>Tab characters in strings are now treated literally, instead of
        being changed to spaces. See <link
        xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-3336">GMT-3336</link>
        for details.</para>
      </listitem>
    </itemizedlist>
  </section>

  <section>
    <title>Known &amp; Fixed Issues</title>

    <para>Over 50 bugs were closed in this release. See the <link
    xlink:href="http://li64-187.members.linode.com:8080/issues/?filter=11911">"Critical
    Issues Fixed in R2013b" report</link> for a list of critical bugs and
    resolutions in R2013b. See the <link
    xlink:href="http://li64-187.members.linode.com:8080/issues/?filter=11912">"Minor
    Issues Fixed for R2013b" report</link> for minor issues addressed in
    R2013b.</para>

    <section>
      <title>Known Issues</title>

      <para>All known issues that affect this version of GMAT can be seen in
      the <link
      xlink:href="http://li64-187.members.linode.com:8080/issues/?filter=11913">"Known
      Issues in R2013b" report</link> in JIRA.</para>

      <para>There are several known issues in this release that we consider to
      be significant:<informaltable frame="topbot">
          <tgroup cols="2">
            <colspec colnum="1" colwidth="0.2*"/>

            <thead>
              <row>
                <entry align="left">ID</entry>

                <entry align="left">Description</entry>
              </row>
            </thead>

            <tbody>
              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-2561">GMT-2561</link></entry>

                <entry>UTC Epoch Entry and Reporting During Leap Second is
                incorrect.</entry>
              </row>

              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-3043">GMT-3043</link></entry>

                <entry>Inconsistent validation when creating variables that
                shadow built-in math functions</entry>
              </row>

              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-3108">GMT-3108</link></entry>

                <entry>OrbitView with STM and Propagate Synchronized does not
                show spacecraft in correct locations</entry>
              </row>

              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-3289">GMT-3289</link></entry>

                <entry>First step algorithm fails for backwards propagation
                using SPK propagator</entry>
              </row>

              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-4097">GMT-4097</link></entry>

                <entry>Ephemeris File is Not Chunking File At Some
                Discontinuty Types</entry>
              </row>

              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-3350">GMT-3350</link></entry>

                <entry>Single-quote requirements are not consistent across
                objects and modes</entry>
              </row>

              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-3556">GMT-3556</link></entry>

                <entry>Unable to associate tank with thruster in command
                mode</entry>
              </row>

              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-3629">GMT-3629</link></entry>

                <entry>GUI starts in bad state when started with
                --minimize</entry>
              </row>

              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-3669">GMT-3669</link></entry>

                <entry>Planets not drawn during optimization in
                OrbitView</entry>
              </row>

              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-3738">GMT-3738</link></entry>

                <entry>Cannot set standalone FuelTank, Thruster fields in
                CallMatlabFunction</entry>
              </row>

              <row>
                <entry><link
                xlink:href="http://li64-187.members.linode.com:8080/browse/GMT-3745">GMT-3745</link></entry>

                <entry>SPICE ephemeris stress tests are not writing out
                ephemeris for the entire mission sequence</entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable></para>
    </section>
  </section>
</section>
