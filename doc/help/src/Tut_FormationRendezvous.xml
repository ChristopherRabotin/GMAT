<?xml version="1.0" encoding="UTF-8"?>
<chapter version="5.0" xml:id="FormationRendezvous"
         xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>Formation Rendezvous</title>

  <section>
    <title>Objective and Overview</title>

    <para>The primary goal of this mission is for you to learn how to create a
    formation flying mission that uses targeting sequences. The mission
    requires spacecraft dependent coordination systems and has plots in
    different spacecraft dependent coordinate systems and targets variables
    that are expressed in spacecraft dependent coordinate systems. Also, this
    mission includes a rendezvous. This tutorial indicates the method in which
    the spacecraft can accomplish formation flying and formation
    rendezvous.</para>

    <para>Download the script file: <link
    xlink:href="scripts/FormationRendezvousTutorial.script">FormationRendezvousTutorial.script</link></para>

    <section>
      <title>Prerequisites</title>

      <itemizedlist>
        <listitem>
          <para>Basic Understanding of Formation Rendezvous</para>
        </listitem>
      </itemizedlist>
    </section>

    <section>
      <title>Mission Description</title>

      <itemizedlist>
        <listitem>
          <para>Objective: Accomplishing a rendezvous by two certain
          spacecraft from formation flying of four spacecraft.</para>
        </listitem>

        <listitem>
          <para>Given:</para>

          <itemizedlist>
            <listitem>
              <para>Initial formation states of spacecraft, which indicate
              orbital elements</para>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Find:</para>

          <itemizedlist>
            <listitem>
              <para>?Burn1 (?V, ?N, ?B)</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>

    <section>
      <title>Resource, Mission, and Output trees</title>

      <screenshot>
        <info>
          <title>Figure: Formation Rendezvous Resource, Mission, and Output
          trees</title>
        </info>

        <mediaobject>
          <imageobject>
            <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                       fileref="files/images/Tut_FormRendezvous_FormationRendezvousResourceMissionandOutputTrees.jpeg"></imagedata>
          </imageobject>

          <caption>
            <para>Figure: Formation Rendezvous Resource, Mission, and Output
            trees</para>
          </caption>
        </mediaobject>
      </screenshot>
    </section>
  </section>

  <section>
    <title>Creating and Configuring the Resource Tree</title>

    <para>In this section, some assumptions or conditions are described to
    accomplish the mission. Four spacecraft are created in this simple mission
    but only one spacecraft can have its trajectory changed. A single burn and
    a single propagator are needed as well. Several Plots/Reports and
    Coordinate Systems are set in order to analyze the details of each
    spacecraft trajectory.</para>

    <section>
      <title>Objects Required</title>

      <itemizedlist>
        <listitem>
          <para>Spacecraft: Sat1, Sat2, Sat3, Sat4</para>
        </listitem>

        <listitem>
          <para>Impulsive Burn: Burn1</para>
        </listitem>

        <listitem>
          <para>Propagator: RKV_LowEarth</para>
        </listitem>

        <listitem>
          <para>Differential Corrector: DC</para>
        </listitem>

        <listitem>
          <para>OpenGL Plots: EarthView, DataReport</para>
        </listitem>

        <listitem>
          <para>Coordinate systems: Sat1LVLH, Sat2VNB</para>
        </listitem>
      </itemizedlist>
    </section>

    <section>
      <title>Creating and Modifying Objects</title>

      <itemizedlist>
        <listitem>
          <para>Spacecraft</para>

          <itemizedlist>
            <listitem>
              <para>Sat1</para>

              <itemizedlist>
                <listitem>
                  <para>Add spacecraft Sat1 (where, in this tutorial each
                  initial orbital parameter assumes to be given as shown in
                  the following Script Syntax)</para>
                </listitem>

                <listitem>
                  <para>Use coordination system EarthMJ2000Eq</para>
                </listitem>

                <listitem>
                  <para>Change the Epoch Format to UTCGregorian</para>
                </listitem>

                <listitem>
                  <para>Set the Epoch to 01 Jan 2000 11:59:27.966</para>
                </listitem>

                <listitem>
                  <para>Use Keplerian State Type</para>
                </listitem>
              </itemizedlist>

              <para>Script Syntax:</para>

              <programlisting><code>Create Spacecraft Sat1;
GMAT Sat1.Epoch.UTCGregorian = 01 Jan 2000 11:59:27.966;
GMAT Sat1.CoordinateSystem = EarthMJ2000Eq;
GMAT Sat1.DisplayStateType = Keplerian;
GMAT Sat1.SMA   = 7600;
GMAT Sat1.ECC   = 0;
GMAT Sat1.INC   = 100.51;
GMAT Sat1.AOP  = 0;
GMAT Sat1.RAAN  = 278.85;
GMAT Sat1.TA  = 90;</code></programlisting>

              <screenshot>
                <info>
                  <title>Figure: Sat1 Spacecraft Object</title>
                </info>

                <mediaobject>
                  <imageobject>
                    <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                               fileref="files/images/Tut_FormRendezvous_Sat1SpacecraftObject.jpeg"></imagedata>
                  </imageobject>

                  <caption>
                    <para>Figure: Sat1 Spacecraft Object</para>
                  </caption>
                </mediaobject>
              </screenshot>
            </listitem>

            <listitem>
              <para>Sat2</para>

              <itemizedlist>
                <listitem>
                  <para>Add spacecraft Sat2 (where, in this tutorial each
                  initial orbital parameter assumes to be given as shown in
                  the following Script Syntax)</para>
                </listitem>

                <listitem>
                  <para>Use coordination system EarthMJ2000Eq</para>
                </listitem>

                <listitem>
                  <para>Change the Epoch Format to UTCGregorian</para>
                </listitem>

                <listitem>
                  <para>Set the Epoch to 01 Jan 2000 11:59:27.966</para>
                </listitem>

                <listitem>
                  <para>Use Keplerian State Type</para>
                </listitem>
              </itemizedlist>

              <para>Script Syntax:</para>

              <programlisting><code>Create Spacecraft Sat2;
GMAT Sat2.Epoch.UTCGregorian = 01 Jan 2000 11:59:27.966;
GMAT Sat2.CoordinateSystem = EarthMJ2000Eq;
GMAT Sat2.DisplayStateType = Keplerian;
GMAT Sat2.SMA   = 7600;
GMAT Sat2.ECC   = 0.045;
GMAT Sat2.INC   = 100.47;
GMAT Sat2.AOP   = 180.95;
GMAT Sat2.RAAN  = 284.39;
GMAT Sat2.TA    = 264.90;</code></programlisting>
            </listitem>

            <listitem>
              <para>Sat3</para>

              <itemizedlist>
                <listitem>
                  <para>Add spacecraft Sat3 (where, in this tutorial each
                  initial orbital parameter assumes to be given as shown in
                  the following Script Syntax)</para>
                </listitem>

                <listitem>
                  <para>Use coordination system EarthMJ2000Eq</para>
                </listitem>

                <listitem>
                  <para>Change the Epoch Format to UTCGregorian</para>
                </listitem>

                <listitem>
                  <para>Set the Epoch to 01 Jan 2000 11:59:27.966</para>
                </listitem>

                <listitem>
                  <para>Use Keplerian State Type</para>
                </listitem>
              </itemizedlist>

              <para>Script Syntax:</para>

              <programlisting><code>Create Spacecraft Sat3;
GMAT Sat3.Epoch.UTCGregorian = 01 Jan 2000 11:59:27.966;
GMAT Sat3.CoordinateSystem = EarthMJ2000Eq;
GMAT Sat3.DisplayStateType = Keplerian;
GMAT Sat3.SMA   = 7600;
GMAT Sat3.ECC   = 0.0702;
GMAT Sat3.INC   = 100.40;
GMAT Sat3.AOP   = 181.54;
GMAT Sat3.RAAN  = 287.90;
GMAT Sat3.TA    = 261.81;</code></programlisting>
            </listitem>

            <listitem>
              <para>Sat4</para>

              <itemizedlist>
                <listitem>
                  <para>Add spacecraft Sat4 (where, in this tutorial each
                  initial orbital parameter assumes to be given as shown in
                  the following Script Syntax)</para>
                </listitem>

                <listitem>
                  <para>Use coordination system EarthMJ2000Eq</para>
                </listitem>

                <listitem>
                  <para>Change the Epoch Format to UTCGregorian</para>
                </listitem>

                <listitem>
                  <para>Set the Epoch to 01 Jan 2000 11:59:27.966</para>
                </listitem>

                <listitem>
                  <para>Use Keplerian State Type</para>
                </listitem>
              </itemizedlist>

              <para>Script Syntax:</para>

              <programlisting><code>Create Spacecraft Sat4;
GMAT Sat4.Epoch.UTCGregorian = 01 Jan 2000 11:59:27.966;
GMAT Sat4.CoordinateSystem = EarthMJ2000Eq;
GMAT Sat4.DisplayStateType = Keplerian;
GMAT Sat4.SMA   = 7600;
GMAT Sat4.ECC   = 0.101;
GMAT Sat4.INC   = 100.29;
GMAT Sat4.AOP   = 182.141;
GMAT Sat4.RAAN  = 291.82;
GMAT Sat4.TA    = 258.67;</code></programlisting>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Propagators</para>

          <itemizedlist>
            <listitem>
              <para>Add propagator RKV_LowEarth</para>
            </listitem>

            <listitem>
              <para>Remove primary bodies or gravity models from all
              propagators</para>
            </listitem>

            <listitem>
              <para>Use RKV_LowEarth propagator</para>
            </listitem>

            <listitem>
              <para>Set the integrator Min Step Size to 0.001</para>
            </listitem>

            <listitem>
              <para>Set the integrator Max Step Size to 900</para>
            </listitem>

            <listitem>
              <para>Set Earth, Sun, Luna and Jupiter as Point Masses</para>
            </listitem>
          </itemizedlist>

          <para>Script Syntax:</para>

          <programlisting><code>Create ForceModel LowEarth;
GMAT LowEarth.PointMasses = {Earth, Sun, Luna, Jupiter};

Create Propagator RKV_LowEarth;
GMAT RKV_LowEarth.Type    = RungeKutta89;
GMAT RKV_LowEarth.MinStep = .001;
GMAT RKV_LowEarth.MaxStep = 900;
GMAT RKV_LowEarth.FM      = LowEarth;</code></programlisting>

          <screenshot>
            <info>
              <title>Figure: RKV_LowEarth Propagator Object</title>
            </info>

            <mediaobject>
              <imageobject>
                <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                           fileref="files/images/Tut_FormRendezvous_RKV_LowEarthPropagatorObject.jpeg"></imagedata>
              </imageobject>

              <caption>
                <para>Figure: RKV_LowEarth Propagator Object</para>
              </caption>
            </mediaobject>
          </screenshot>
        </listitem>

        <listitem>
          <para>Burns</para>

          <itemizedlist>
            <listitem>
              <para>Add impulsive burn Burn1</para>
            </listitem>

            <listitem>
              <para>Origin is Earth</para>
            </listitem>

            <listitem>
              <para>Set V to 0.0001</para>
            </listitem>
          </itemizedlist>

          <para>Script Syntax:</para>

          <programlisting><code>Create ImpulsiveBurn Burn1;
GMAT Burn1.Origin = Earth;
GMAT Burn1.Axes = VNB;
GMAT Burn1.Element1 = .0001;</code></programlisting>

          <screenshot>
            <info>
              <title>Figure: Burn1 Impulsive Burn Object</title>
            </info>

            <mediaobject>
              <imageobject>
                <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                           fileref="files/images/Tut_FormRendezvous_Burn1ImpulsiveBurnObject.jpeg"></imagedata>
              </imageobject>

              <caption>
                <para>Figure: Burn1 Impulsive Burn Object</para>
              </caption>
            </mediaobject>
          </screenshot>
        </listitem>

        <listitem>
          <para>Solvers</para>

          <itemizedlist>
            <listitem>
              <para>Set DifferentialCorrector DC</para>
            </listitem>

            <listitem>
              <para>Use the target text file
              DifferentialCorrectorDC.data</para>
            </listitem>
          </itemizedlist>

          <para>Script Syntax:</para>

          <programlisting><code>Create DifferentialCorrector DC;
GMAT DC.ShowProgress = true;
GMAT DC.ReportStyle = 'Normal';
GMAT DC.TargeterTextFile = 'DifferentialCorrectorDC.data';
GMAT DC.MaximumIterations = 25;</code></programlisting>

          <screenshot>
            <info>
              <title>Figure: DC Differential Corrector Object</title>
            </info>

            <mediaobject>
              <imageobject>
                <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                           fileref="files/images/Tut_FormRendezvous_DCDifferentialCorrectorObject.jpeg"></imagedata>
              </imageobject>

              <caption>
                <para>Figure: DC Differential Corrector Object</para>
              </caption>
            </mediaobject>
          </screenshot>
        </listitem>

        <listitem>
          <para>Coordinate Systems</para>

          <itemizedlist>
            <listitem>
              <para>Add two new systems Sat1LVLH, Sat2VNB</para>
            </listitem>

            <listitem>
              <para>Sat1LVLH</para>

              <itemizedlist>
                <listitem>
                  <para>Type of Axes is ObjectReferenced</para>
                </listitem>

                <listitem>
                  <para>Origin of system is Sat1</para>
                </listitem>

                <listitem>
                  <para>Primary is Earth</para>
                </listitem>
              </itemizedlist>

              <para>Script Syntax:</para>

              <programlisting><code>Create CoordinateSystem EarthMoonRot;
Create CoordinateSystem Sat1LVLH;
GMAT Sat1LVLH.Axes    = ObjectReferenced;
GMAT Sat1LVLH.Origin  = Sat1;
GMAT Sat1LVLH.Primary = Earth;
GMAT Sat1LVLH.YAxis   = -N;
GMAT Sat1LVLH.ZAxis   = -R;</code></programlisting>

              <screenshot>
                <info>
                  <title>Figure: Sat1LVLH Coordinate System Object</title>
                </info>

                <mediaobject>
                  <imageobject>
                    <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                               fileref="files/images/Tut_FormRendezvous_Sat1LVLHCoordinateSystemObject.jpeg"></imagedata>
                  </imageobject>

                  <caption>
                    <para>Figure: Sat1LVLH Coordinate System Object</para>
                  </caption>
                </mediaobject>
              </screenshot>
            </listitem>

            <listitem>
              <para>Sat2VNB</para>

              <itemizedlist>
                <listitem>
                  <para>Type of Axes is ObjectReferenced</para>
                </listitem>

                <listitem>
                  <para>Origin of system is Sat2</para>
                </listitem>

                <listitem>
                  <para>Primary is Earth</para>
                </listitem>
              </itemizedlist>

              <para>Script Syntax:</para>

              <programlisting><code>Create CoordinateSystem Sat2VNB;
GMAT Sat2VNB.Axes    = ObjectReferenced;
GMAT Sat2VNB.Origin  = Sat2;
GMAT Sat2VNB.Primary = Earth;
GMAT Sat2VNB.XAxis   = V;
GMAT Sat2VNB.YAxis   = N;</code></programlisting>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Plots/Reports</para>

          <itemizedlist>
            <listitem>
              <para>Data Report saved to a file</para>

              <para>Script Syntax:</para>

              <programlisting><code>Create ReportFile DataReport;
GMAT DataReport.Filename = ./output/SampleMissions/Ex_FormationRendezvous.report;
GMAT DataReport.Precision = 16;
GMAT DataReport.WriteHeaders = On;
GMAT DataReport.ColumnWidth = 20;</code></programlisting>

              <screenshot>
                <info>
                  <title>Figure: Data Report Object</title>
                </info>

                <mediaobject>
                  <imageobject>
                    <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                               fileref="files/images/Tut_FormRendezvous_DataReportObject.jpeg"></imagedata>
                  </imageobject>

                  <caption>
                    <para>Figure: Data Report Object</para>
                  </caption>
                </mediaobject>
              </screenshot>
            </listitem>

            <listitem>
              <para>XY Plots</para>

              <itemizedlist>
                <listitem>
                  <para>Add plots Sat2wrtSat1LVLH, Sat1wrtSat2VNB and
                  Sat2wrtSat1VNB2</para>

                  <itemizedlist>
                    <listitem>
                      <para>Sat2wrtSat1LVLH: XZ plots of Sat2 in
                      Sat1VNB</para>

                      <para>Script Syntax:</para>

                      <programlisting><code>Create XYPlot Sat2wrtSat1LVLH;
GMAT Sat2wrtSat1LVLH.SolverIterations = None;
GMAT Sat2wrtSat1LVLH.IndVar   = Sat2.Sat1LVLH.X;
GMAT Sat2wrtSat1LVLH.Add      = Sat2.Sat1LVLH.Z;
GMAT Sat2wrtSat1LVLH.Grid     = On;</code></programlisting>

                      <screenshot>
                        <info>
                          <title>Figure: Sat2wrtSat1LVLH XY Plot
                          Object</title>
                        </info>

                        <mediaobject>
                          <imageobject>
                            <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                                       fileref="files/images/Tut_FormRendezvous_Sat2wrtSat1LVLHXYPlotObject.jpeg"></imagedata>
                          </imageobject>

                          <caption>
                            <para>Figure: Sat2wrtSat1LVLH XY Plot Object</para>
                          </caption>
                        </mediaobject>
                      </screenshot>
                    </listitem>

                    <listitem>
                      <para>Sat1wrtSat2VNB: XY plots of Sat1 in Sat2VNB</para>

                      <para>Script Syntax:</para>

                      <programlisting><code>Create XYPlot Sat1wrtSat2VNB;
GMAT Sat1wrtSat2VNB.SolverIterations = None;
GMAT Sat1wrtSat2VNB.IndVar       = Sat1.Sat2VNB.X;
GMAT Sat1wrtSat2VNB.Add          = Sat1.Sat2VNB.Y;
GMAT Sat1wrtSat2VNB.Grid         = On;</code></programlisting>
                    </listitem>

                    <listitem>
                      <para>Sat2wrtSat1VNB2: YZ plots of Sat1 in
                      Sat2VNB</para>

                      <para>Script Syntax:</para>

                      <programlisting><code>Create XYPlot Sat1wrtSat2VNB2;
GMAT Sat1wrtSat2VNB2.SolverIterations = None;
GMAT Sat1wrtSat2VNB2.IndVar       = Sat1.Sat2VNB.Y;
GMAT Sat1wrtSat2VNB2.Add          = Sat1.Sat2VNB.Z;
GMAT Sat1wrtSat2VNB2.Grid         = On;</code></programlisting>
                    </listitem>
                  </itemizedlist>
                </listitem>
              </itemizedlist>
            </listitem>

            <listitem>
              <para>OpenGL Plots</para>

              <itemizedlist>
                <listitem>
                  <para>Add plot Sat2InSat1LVLH</para>
                </listitem>

                <listitem>
                  <para>Sat2InSat1LVLH</para>

                  <itemizedlist>
                    <listitem>
                      <para>Add the Earth to the Selected Celestial Objects
                      field</para>
                    </listitem>

                    <listitem>
                      <para>Use a View Scale Factor of 0.15</para>
                    </listitem>

                    <listitem>
                      <para>Select coordination system Sat1LVLH</para>
                    </listitem>

                    <listitem>
                      <para>Select X as View Up Axis</para>
                    </listitem>

                    <listitem>
                      <para>Select Earth as the View Point Reference and the
                      View Direction body from those drop down menus</para>
                    </listitem>
                  </itemizedlist>
                </listitem>
              </itemizedlist>

              <para>Script Syntax:</para>

              <programlisting><code>Create OpenGLPlot Sat2InSat1LVLH;
GMAT Sat2InSat1LVLH.Add = {Sat2, Sat3, Sat4};
GMAT Sat2InSat1LVLH.CoordinateSystem = Sat1LVLH;
GMAT Sat2InSat1LVLH.ViewPointReference = Earth;
GMAT Sat2InSat1LVLH.ViewDirection = Earth;
GMAT Sat2InSat1LVLH.ViewScaleFactor = .15;
GMAT Sat2InSat1LVLH.FixedFovAngle = 45;
GMAT Sat2InSat1LVLH.ViewUpCoordinateSystem = Sat1LVLH;
GMAT Sat2InSat1LVLH.ViewUpAxis = X;
GMAT Sat2InSat1LVLH.CelestialPlane = Off;
GMAT Sat2InSat1LVLH.XYPlane = On;
GMAT Sat2InSat1LVLH.WireFrame = Off;
GMAT Sat2InSat1LVLH.SolverIterations = All;
GMAT Sat2InSat1LVLH.Axes = Off;
GMAT Sat2InSat1LVLH.SunLine = Off;
GMAT Sat2InSat1LVLH.PerspectiveMode = Off;
GMAT Sat2InSat1LVLH.UseFixedFov = Off;
GMAT Sat2InSat1LVLH.DataCollectFrequency = 1;
GMAT Sat2InSat1LVLH.UpdatePlotFrequency = 50;
GMAT Sat2InSat1LVLH.NumPointsToRedraw = 0;</code></programlisting>

              <screenshot>
                <info>
                  <title>Figure: Sat2InSat1LVLH OpenGL Plot Object</title>
                </info>

                <mediaobject>
                  <imageobject>
                    <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                               fileref="files/images/Tut_FormRendezvous_Sat2InSat1LVLHOpenGLPlotObject.jpeg"></imagedata>
                  </imageobject>

                  <caption>
                    <para>Figure: Sat2InSat1LVLH OpenGL Plot Object</para>
                  </caption>
                </mediaobject>
              </screenshot>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
  </section>

  <section>
    <title>Creating and Configuring the Mission Sequence</title>

    <para>This mission consists of first sequence, two targeting sequences.
    The first sequence includes some reports, an equation and a propagator,
    and the purpose is observation of the achievement of the formation flying
    under given initial conditions. Each targeting sequence also includes some
    reports, propagators, an equation and a maneuver, and the goal is the
    achievement of two formation rendezvous. The details of them are described
    below.</para>

    <itemizedlist>
      <listitem>
        <para>The Target1 Sequence solves for three specified variables (?V,
        ?N and ?B) by applying Burn1 to Sat2 for accomplishing formation
        rendezvous which the positions of Sat2 would be same with of
        Sat1.</para>
      </listitem>

      <listitem>
        <para>The Target2 Sequence solves for three specified variables (?V,
        ?N and ?B) by applying Burn1 to Sat2 for accomplishing formation
        rendezvous which the velocities of Sat2 would be same with of
        Sat1.</para>
      </listitem>
    </itemizedlist>

    <section>
      <title>Creating and Modifying Sequences</title>

      <section>
        <title>First Sequence</title>

        <itemizedlist>
          <listitem>
            <para>Toggle1</para>

            <itemizedlist>
              <listitem>
                <para>Select Sat1wrtSat2VNB On</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Toggle2</para>

            <itemizedlist>
              <listitem>
                <para>Select Sat2InSat1LVLH On</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Toggle3</para>

            <itemizedlist>
              <listitem>
                <para>Select Sat1wrtSat2VNB2 On</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Toggle4</para>

            <itemizedlist>
              <listitem>
                <para>Select Sat2wrtSat1LVLHOn</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Report1</para>

            <itemizedlist>
              <listitem>
                <para>Add the Cartesian coordinates, X, Y, and Z, and all
                velocity, VX, VY, and VZ, to the parameters list to report
                them for Sat1</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Report2</para>

            <itemizedlist>
              <listitem>
                <para>Add the Cartesian coordinates, X, Y, and Z, and all
                velocity, VX, VY, and VZ, to the parameters list to report
                them for Sat2</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Report3</para>

            <itemizedlist>
              <listitem>
                <para>Add the Cartesian coordinates, X, Y, and Z, and all
                velocity, VX, VY, and VZ, to the parameters list to report
                them for Sat3</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Report4</para>

            <itemizedlist>
              <listitem>
                <para>Add the Cartesian coordinates, X, Y, and Z, and all
                velocity, VX, VY, and VZ, to the parameters list to report
                them for Sat4</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Equation1</para>

            <itemizedlist>
              <listitem>
                <para>DataReport.WriteHeaders = Off</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Propagator1</para>

            <itemizedlist>
              <listitem>
                <para>Use RKV_LowEarth propagator</para>
              </listitem>

              <listitem>
                <para>Set the stopping condition parameter to 0.2 elapsed
                days</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Report5</para>

            <itemizedlist>
              <listitem>
                <para>Refer to Report1 for parameters list</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Report6</para>

            <itemizedlist>
              <listitem>
                <para>Refer to Report2 for parameters list</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Report7</para>

            <itemizedlist>
              <listitem>
                <para>Refer to Report3 for parameters list</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Report8</para>

            <itemizedlist>
              <listitem>
                <para>Refer to Report4 for parameters list</para>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>

        <para>Script Syntax:</para>

        <programlisting><code>Toggle Sat1wrtSat2VNB On;
Toggle Sat2InSat1LVLH On;
Toggle Sat1wrtSat2VNB2 On;
Toggle Sat2wrtSat1LVLH On;

Report DataReport Sat1.X Sat1.Y Sat1.Z Sat1.VX Sat1.VY Sat1.VZ;
Report DataReport Sat2.X Sat2.Y Sat2.Z Sat2.VX Sat2.VY Sat2.VZ;
Report DataReport Sat3.X Sat3.Y Sat3.Z Sat3.VX Sat3.VY Sat3.VZ;
Report DataReport Sat4.X Sat4.Y Sat4.Z Sat4.VX Sat4.VY Sat4.VZ;

GMAT DataReport.WriteHeaders = Off;

Propagate RKV_LowEarth(Sat1, Sat2, Sat3, Sat4, {Sat1.ElapsedDays = .2});

Report DataReport Sat1.X Sat1.Y Sat1.Z Sat1.VX Sat1.VY Sat1.VZ;
Report DataReport Sat2.X Sat2.Y Sat2.Z Sat2.VX Sat2.VY Sat2.VZ;
Report DataReport Sat3.X Sat3.Y Sat3.Z Sat3.VX Sat3.VY Sat3.VZ;
Report DataReport Sat4.X Sat4.Y Sat4.Z Sat4.VX Sat4.VY Sat4.VZ;</code></programlisting>

        <screenshot>
          <info>
            <title>Figure: Toggle1 Toggle Command</title>
          </info>

          <mediaobject>
            <imageobject>
              <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                         fileref="files/images/Tut_FormRendezvous_Toggle1ToggleCommand.jpeg"></imagedata>
            </imageobject>

            <caption>
              <para>Figure: Toggle1 Toggle Command</para>
            </caption>
          </mediaobject>
        </screenshot>

        <screenshot>
          <info>
            <title>Figure: Report1 Report Command</title>
          </info>

          <mediaobject>
            <imageobject>
              <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                         fileref="files/images/Tut_FormRendezvous_Report1ReportCommand.jpeg"></imagedata>
            </imageobject>

            <caption>
              <para>Figure: Report1 Report Command</para>
            </caption>
          </mediaobject>
        </screenshot>

        <screenshot>
          <info>
            <title>Figure: Equation1 Equation Command</title>
          </info>

          <mediaobject>
            <imageobject>
              <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                         fileref="files/images/Tut_FormRendezvous_Equation1EquationCommand.jpeg"></imagedata>
            </imageobject>

            <caption>
              <para>Figure: Equation1 Equation Command</para>
            </caption>
          </mediaobject>
        </screenshot>

        <screenshot>
          <info>
            <title>Figure: Propagator1 Propagate Command</title>
          </info>

          <mediaobject>
            <imageobject>
              <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                         fileref="files/images/Tut_FormRendezvous_Propagator1PropagateCommand.jpeg"></imagedata>
            </imageobject>

            <caption>
              <para>Figure: Propagator1 Propagate Command</para>
            </caption>
          </mediaobject>
        </screenshot>
      </section>

      <section>
        <title>Target1 Sequence</title>

        <itemizedlist>
          <listitem>
            <para>Target1</para>

            <itemizedlist>
              <listitem>
                <para>Vary1</para>

                <itemizedlist>
                  <listitem>
                    <para>Set the variable V using Burn1</para>
                  </listitem>

                  <listitem>
                    <para>Initial Value = - 0.0001</para>
                  </listitem>

                  <listitem>
                    <para>Perturbation = 0.001</para>
                  </listitem>

                  <listitem>
                    <para>Lower ( Limit ) = - 0.3</para>
                  </listitem>

                  <listitem>
                    <para>Upper ( Limit ) = 0.3</para>
                  </listitem>

                  <listitem>
                    <para>Max Step = 0.05</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Vary2</para>

                <itemizedlist>
                  <listitem>
                    <para>Set the variable N using Burn1</para>
                  </listitem>

                  <listitem>
                    <para>Initial Value = 0</para>
                  </listitem>

                  <listitem>
                    <para>Perturbation = 0.001</para>
                  </listitem>

                  <listitem>
                    <para>Lower ( Limit ) = - 0.3</para>
                  </listitem>

                  <listitem>
                    <para>Upper ( Limit ) = 0.3</para>
                  </listitem>

                  <listitem>
                    <para>Max Step = 0.05</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Vary3</para>

                <itemizedlist>
                  <listitem>
                    <para>Set the variable B using Burn1</para>
                  </listitem>

                  <listitem>
                    <para>Initial Value = 0</para>
                  </listitem>

                  <listitem>
                    <para>Perturbation = 0.001</para>
                  </listitem>

                  <listitem>
                    <para>Lower ( Limit ) = - 0.3</para>
                  </listitem>

                  <listitem>
                    <para>Upper ( Limit ) = 0.3</para>
                  </listitem>

                  <listitem>
                    <para>Max Step = 0.05</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Maneuver1</para>

                <itemizedlist>
                  <listitem>
                    <para>Utilizes the Burn1 for Sat2</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Propagate2</para>

                <itemizedlist>
                  <listitem>
                    <para>Use RKV_LowEarth propagator</para>
                  </listitem>

                  <listitem>
                    <para>Set the stopping condition parameter to be
                    5498.65387429 elapsed secs</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Achieve1</para>

                <itemizedlist>
                  <listitem>
                    <para>Goal</para>

                    <itemizedlist>
                      <listitem>
                        <para>Select Sat1LVLH coordinate system</para>
                      </listitem>

                      <listitem>
                        <para>Sat2.X = 0</para>
                      </listitem>

                      <listitem>
                        <para>Tolerance = 0.0001</para>
                      </listitem>
                    </itemizedlist>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Achieve2</para>

                <itemizedlist>
                  <listitem>
                    <para>Goal</para>

                    <itemizedlist>
                      <listitem>
                        <para>Select Sat1LVLH coordinate system</para>
                      </listitem>

                      <listitem>
                        <para>Sat2.Y =0</para>
                      </listitem>

                      <listitem>
                        <para>Tolerance = 0.0001</para>
                      </listitem>
                    </itemizedlist>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Achieve3</para>

                <itemizedlist>
                  <listitem>
                    <para>Goal</para>

                    <itemizedlist>
                      <listitem>
                        <para>Select Sat1LVLH coordinate system</para>
                      </listitem>

                      <listitem>
                        <para>Sat2.Z = 0</para>
                      </listitem>

                      <listitem>
                        <para>Tolerance = 0.0001</para>
                      </listitem>
                    </itemizedlist>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report9</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report1 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report10</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report2 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report11</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report3 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report12</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report4 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>
            </itemizedlist>

            <para>Script Syntax:</para>

            <programlisting><code>Target DC;

     Vary DC(Burn1.V = 0.0001, {Perturbation = 0.0001, MaxStep = 0.05, Lower = -0.3, Upper = 0.3});
     Vary DC(Burn1.N = 0.000, {Perturbation = 0.0001, MaxStep = 0.05, Lower = -0.3, Upper = 0.3});
     Vary DC(Burn1.B = 0.000, {Perturbation = 0.0001, MaxStep = 0.05, Lower = -0.3, Upper = 0.3});

     Maneuver Burn1(Sat2);
     Propagate  RKV_LowEarth(Sat1, Sat2, Sat3, Sat4, {Sat1.ElapsedSecs = 5498.65387429});

     Achieve DC(Sat2.Sat1LVLH.X = 0, {Tolerance = 0.0001});
     Achieve DC(Sat2.Sat1LVLH.Y = 0, {Tolerance = 0.0001});
     Achieve DC(Sat2.Sat1LVLH.Z = 0, {Tolerance = 0.0001});

EndTarget;

Report DataReport Sat1.X Sat1.Y Sat1.Z Sat1.VX Sat1.VY Sat1.VZ;
Report DataReport Sat2.X Sat2.Y Sat2.Z Sat2.VX Sat2.VY Sat2.VZ;
Report DataReport Sat3.X Sat3.Y Sat3.Z Sat3.VX Sat3.VY Sat3.VZ;
Report DataReport Sat4.X Sat4.Y Sat4.Z Sat4.VX Sat4.VY Sat4.VZ;</code></programlisting>

            <screenshot>
              <info>
                <title>Figure: Target1 Target Command</title>
              </info>

              <mediaobject>
                <imageobject>
                  <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                             fileref="files/images/Tut_FormRendezvous_Target1TargetCommand.jpeg"></imagedata>
                </imageobject>

                <caption>
                  <para>Figure: Target1 Target Command</para>
                </caption>
              </mediaobject>
            </screenshot>

            <screenshot>
              <info>
                <title>Figure: Vary1 Vary Command</title>
              </info>

              <mediaobject>
                <imageobject>
                  <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                             fileref="files/images/Tut_FormRendezvous_Vary1VaryCommand.jpeg"></imagedata>
                </imageobject>

                <caption>
                  <para>Figure: Vary1 Vary Command</para>
                </caption>
              </mediaobject>
            </screenshot>

            <screenshot>
              <info>
                <title>Figure: Maneuver1 Maneuver Command</title>
              </info>

              <mediaobject>
                <imageobject>
                  <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                             fileref="files/images/Tut_FormRendezvous_Maneuver1ManeuverCommand.jpeg"></imagedata>
                </imageobject>

                <caption>
                  <para>Figure: Maneuver1 Maneuver Command</para>
                </caption>
              </mediaobject>
            </screenshot>

            <screenshot>
              <info>
                <title>Figure: Achieve1 Achieve Command</title>
              </info>

              <mediaobject>
                <imageobject>
                  <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                             fileref="files/images/Tut_FormRendezvous_Achieve1AchieveCommand.jpeg"></imagedata>
                </imageobject>

                <caption>
                  <para>Figure: Achieve1 Achieve Command</para>
                </caption>
              </mediaobject>
            </screenshot>
          </listitem>
        </itemizedlist>
      </section>

      <section>
        <title>Target2 Sequence</title>

        <itemizedlist>
          <listitem>
            <para>Target2</para>

            <itemizedlist>
              <listitem>
                <para>Vary4</para>

                <itemizedlist>
                  <listitem>
                    <para>Set the variable V using Burn1</para>
                  </listitem>

                  <listitem>
                    <para>Initial Value = - 0.0001</para>
                  </listitem>

                  <listitem>
                    <para>Perturbation = 0.001</para>
                  </listitem>

                  <listitem>
                    <para>Lower ( Limit ) = - 1.0</para>
                  </listitem>

                  <listitem>
                    <para>Upper ( Limit ) = 1.0</para>
                  </listitem>

                  <listitem>
                    <para>Max Step = 0.5 km/s</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Vary5</para>

                <itemizedlist>
                  <listitem>
                    <para>Set the variable N using Burn1</para>
                  </listitem>

                  <listitem>
                    <para>Initial Value = 0</para>
                  </listitem>

                  <listitem>
                    <para>Perturbation = 0.001</para>
                  </listitem>

                  <listitem>
                    <para>Lower ( Limit ) = - 1.0</para>
                  </listitem>

                  <listitem>
                    <para>Upper ( Limit ) = 1.0</para>
                  </listitem>

                  <listitem>
                    <para>Max Step = 0.5</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Vary6</para>

                <itemizedlist>
                  <listitem>
                    <para>Set the variable B using Burn1</para>
                  </listitem>

                  <listitem>
                    <para>Initial Value = 0</para>
                  </listitem>

                  <listitem>
                    <para>Perturbation = 0.001</para>
                  </listitem>

                  <listitem>
                    <para>Lower ( Limit ) = - 1.0</para>
                  </listitem>

                  <listitem>
                    <para>Upper ( Limit ) = 1.0</para>
                  </listitem>

                  <listitem>
                    <para>Max Step = 0.5</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Maneuver2</para>

                <itemizedlist>
                  <listitem>
                    <para>Utilizes the Burn1 for Sat2</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Propagate3</para>

                <itemizedlist>
                  <listitem>
                    <para>Use RKV_LowEarth propagator</para>
                  </listitem>

                  <listitem>
                    <para>Set the stopping condition parameter to
                    5498.65387429 elapsed secs</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Achieve4</para>

                <itemizedlist>
                  <listitem>
                    <para>Goal</para>

                    <itemizedlist>
                      <listitem>
                        <para>Sat2.VX = Sat1.VX</para>
                      </listitem>

                      <listitem>
                        <para>Tolerance = 0.0001</para>
                      </listitem>
                    </itemizedlist>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Achieve5</para>

                <itemizedlist>
                  <listitem>
                    <para>Goal</para>

                    <itemizedlist>
                      <listitem>
                        <para>Sat2.VY = Sat1.VY</para>
                      </listitem>

                      <listitem>
                        <para>Tolerance = 0.0001</para>
                      </listitem>
                    </itemizedlist>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Achieve6</para>

                <itemizedlist>
                  <listitem>
                    <para>Goal</para>

                    <itemizedlist>
                      <listitem>
                        <para>Sat2.VZ = Sat1.VZ</para>
                      </listitem>

                      <listitem>
                        <para>Tolerance = 0.0001</para>
                      </listitem>
                    </itemizedlist>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report13</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report1 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report14</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report2 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report15</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report3 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report16</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report4 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Propagate4</para>

                <itemizedlist>
                  <listitem>
                    <para>Use RKV_LowEarth propagator</para>
                  </listitem>

                  <listitem>
                    <para>Set the stopping condition parameter to 0.2 elapsed
                    days</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report17</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report1 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report18</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report2 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report19</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report3 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>

              <listitem>
                <para>Report20</para>

                <itemizedlist>
                  <listitem>
                    <para>Refer to Report4 for parameters list</para>
                  </listitem>
                </itemizedlist>
              </listitem>
            </itemizedlist>

            <para>Script Syntax:</para>

            <programlisting><code>Target DC;

     Vary DC(Burn1.V = 0.0001, {Perturbation = 0.0001, MaxStep = 0.5, Lower = -1.0, Upper = 1.0});
     Vary DC(Burn1.N = 0.000, {Perturbation = 0.0001, MaxStep = 0.5, Lower = -1.0, Upper = 1.0});
     Vary DC(Burn1.B = 0.000, {Perturbation = 0.0001, MaxStep = 0.5, Lower = -1.0, Upper = 1.0});
     
     Maneuver Burn1(Sat2);
     
     Propagate  RKV_LowEarth(Sat1, Sat2, Sat3, Sat4, {Sat1.ElapsedSecs = 5498.65387429});
     
     Achieve DC(Sat2.VX = Sat1.VX, {Tolerance = 0.0001});
     Achieve DC(Sat2.VY = Sat1.VY, {Tolerance = 0.0001});
     Achieve DC(Sat2.VZ = Sat1.VZ, {Tolerance = 0.0001});
     
EndTarget;

Report DataReport Sat1.X Sat1.Y Sat1.Z Sat1.VX Sat1.VY Sat1.VZ;
Report DataReport Sat2.X Sat2.Y Sat2.Z Sat2.VX Sat2.VY Sat2.VZ;
Report DataReport Sat3.X Sat3.Y Sat3.Z Sat3.VX Sat3.VY Sat3.VZ;
Report DataReport Sat4.X Sat4.Y Sat4.Z Sat4.VX Sat4.VY Sat4.VZ;

Propagate RKV_LowEarth(Sat1, Sat2, Sat3, Sat4, {Sat1.ElapsedDays = .2});

Report DataReport Sat1.X Sat1.Y Sat1.Z Sat1.VX Sat1.VY Sat1.VZ;
Report DataReport Sat2.X Sat2.Y Sat2.Z Sat2.VX Sat2.VY Sat2.VZ;
Report DataReport Sat3.X Sat3.Y Sat3.Z Sat3.VX Sat3.VY Sat3.VZ;
Report DataReport Sat4.X Sat4.Y Sat4.Z Sat4.VX Sat4.VY Sat4.VZ;</code></programlisting>
          </listitem>
        </itemizedlist>
      </section>
    </section>
  </section>

  <section>
    <title>Running the Mission</title>

    <para>According to this tutorial, you complete this mission program.
    Firstly please save all, then click green arrow which indicates running
    simulation. So, by these steps you can create the following figures as
    outputs.</para>

    <screenshot>
      <info>
        <title>Figure: Output</title>
      </info>

      <mediaobject>
        <imageobject>
          <imagedata scalefit="1" width="100%" contentdepth="100%" align="center"
                     fileref="files/images/Tut_FormRendezvous_Output.jpeg"></imagedata>
        </imageobject>

        <caption>
          <para>Figure: Output</para>
        </caption>
      </mediaobject>
    </screenshot>
  </section>
</chapter>
