<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xmlns="http://docbook.org/ns/docbook"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns:xi="http://www.w3.org/2001/XInclude"
xmlns:svg="http://www.w3.org/2000/svg"
xmlns:m="http://www.w3.org/1998/Math/MathML"
xmlns:html="http://www.w3.org/1999/xhtml"
xmlns:db="http://docbook.org/ns/docbook">

<title>Algebraic Optimization</title>
<para>This tutorial was started from the default settings in the July 2,2008 build of GMAT.</para>
<section>
<title>Objective and Overview</title>
<para>This tutorial finds the minimum value to satisfy a function.  This tutorial is intended to show how GMAT's optimizer works.  Uses of optimization in a true mission include minimizing the amount of fuel or minimum flight time required to achieve certain characteristics.  Learning how to optimize a mission sequence also involves learning about optimizers, nonlinear constraints, and the minimize command.</para>
<para>You can download the script file and run it beforehand to see the final results of this tutorial:  [http://gmat.ed-pages.com/wiki/tiki-download_file.php?fileId=48|Ex_AlgebraicOptimization.script]</para>
<section>
<title>Prerequisites</title>
<itemizedlist>
<listitem><para>Basic Understanding of how to create and propagate a spacecraft, as in Tutorial ((Creating and Propagating a Spacecraft))</para></listitem>
</itemizedlist>
</section>
<section>
<title>Mission Description</title>
<itemizedlist>
<listitem><para>Objective: The goal here is to find values of variables X1 and X2 that minimize a criterion function F, with a constraint that X1+X2=8, as follows: </para></listitem>
</itemizedlist>{DIV(type=>blockquote)}
<para>F =  ( X1 - 2 ){TAG(tag=>sup)}2{TAG} + ( X2 - 2 ){TAG(tag=>sup)}2{TAG}</para>
<para>G =  X1 + X2</para>
<para>G = 8</para>
<para>{DIV}</para>
<itemizedlist>
<listitem><para>Find:   Values X1 and X2</para></listitem>
</itemizedlist>
</section>
</section>
<section>
<title>Creating and Configuring the Resource Tree</title>
<section>
<title>Objects Required</title>
<itemizedlist>
<listitem><para>Optimizer: SQPfmincon</para></listitem>
<listitem><para>Plots/Reports: Report Data</para></listitem>
<listitem><para>Variables: X1, X2, F, G</para></listitem>
</itemizedlist>
</section>
<section>
<title>Creating and Modifying Objects</title>
<itemizedlist>
<listitem><para>__Variables/Strings/Arrays__</para>
<itemizedlist>
<listitem><para>Variable X1 = 0</para></listitem>
<listitem><para>Variable X2 = 0</para></listitem>
<listitem><para>Variable F = 0</para></listitem>
<listitem><para>Variable G = 0</para></listitem>
</itemizedlist></listitem>
</itemizedlist>
<itemizedlist>
<listitem><para>__Solvers__</para>
<itemizedlist>
<listitem><para>SQPfmincon Optimizer (Figure below shows the resulting SQPfmincon window)</para>
<itemizedlist>
<listitem><para>Tol Fun = .0001</para></listitem>
<listitem><para>Tol Con = .0001</para></listitem>
<listitem><para>Tol X = .01</para></listitem>
<listitem><para>Max Fun Evals = 1000</para></listitem>
<listitem><para>Max Iter = 250</para></listitem>
<listitem><para>Diff Min Change = .000001</para></listitem>
<listitem><para>Diff Max Change = .01</para></listitem>
<listitem><para>Display : Iter</para></listitem>
<listitem><para>Diagnostics</para></listitem>
</itemizedlist></listitem>
</itemizedlist></listitem>
</itemizedlist>
<screenshot><info><title>Figure: SQPfmincon Boundary Value Solver Object</title></info><mediaobject><imageobject><imagedata align="center"
fileref="???"></imagedata></imageobject>
<caption><para>Figure: SQPfmincon Boundary Value Solver Object</para></caption></mediaobject></screenshot>
<itemizedlist>
<listitem><para>__Plots/Reports__</para>
<itemizedlist>
<listitem><para>Data ReportFile</para>
<itemizedlist>
<listitem><para>Clear Parameter List</para></listitem>
<listitem><para>Saved at ./output/SampleMissions/Ex_AlgebraicOptimization.report</para></listitem>
</itemizedlist></listitem>
</itemizedlist></listitem>
</itemizedlist>
<screenshot><info><title>Figure: Data ReportFile System Object</title></info><mediaobject><imageobject><imagedata align="center"
fileref="???"></imagedata></imageobject>
<caption><para>Figure: Data ReportFile System Object</para></caption></mediaobject></screenshot>
</section>
</section>
<section>
<title>Creating and Configuring the Mission Tree</title>
<section>
<title>Resource Mission and Output trees</title>
<para>As said above, values X1 and X2 are variables of function F that is to be optimized.  The sum of these values form a constraint G, G=X1+X2=8.  The final values of F, X1, X2 are sent to a report file.</para>
</section>
<section>
<title>Creating and Modifying Command Sequences</title>
<para>Set up the command sequence as in the Optimize sequence below. Optimization is done in Equation1, via the optimization criterion function F, using the Matlab routine SQPfmincon. For the constraint G, since a function cannot be a constraint in itself, the value G is used.  This is done in Equation2.</para>
<itemizedlist>
<listitem><para>Optimize</para>
<itemizedlist>
<listitem><para>Vary X1 using SQPfmincon</para>
<itemizedlist>
<listitem><para>Upper = 10, Lower = -10</para></listitem>
</itemizedlist></listitem>
</itemizedlist>
<itemizedlist>
<listitem><para>Vary X2 using SQPfmincon</para>
<itemizedlist>
<listitem><para>Upper = 10, Lower = -10</para></listitem>
</itemizedlist></listitem>
</itemizedlist>
<itemizedlist>
<listitem><para>Equation1 F = ( X1 - 2 ){TAG(tag=>sup)}2{TAG} + ( X2 - 2 ){TAG(tag=>sup)}2{TAG}</para></listitem>
<listitem><para>Minimize the value of F using SQPfmincon</para></listitem>
<listitem><para>Equation2 G = X2 + X1</para></listitem>
<listitem><para>Nonlinear Constraint G = 8 using SQPfmincon</para></listitem>
</itemizedlist></listitem>
</itemizedlist>
<itemizedlist>
<listitem><para>Report to file Data the values of variables F, G, X1, X2</para></listitem>
</itemizedlist>
<screenshot><info><title>Figure: Vary X1 Command</title></info><mediaobject><imageobject><imagedata align="center"
fileref="???"></imagedata></imageobject>
<caption><para>Figure: Vary X1 Command</para></caption></mediaobject></screenshot>
<screenshot><info><title>Figure: Equation1 Command</title></info><mediaobject><imageobject><imagedata align="center"
fileref="???"></imagedata></imageobject>
<caption><para>Figure: Equation1 Command</para></caption></mediaobject></screenshot>
<screenshot><info><title>Figure: Nonlinear Constraint Command</title></info><mediaobject><imageobject><imagedata align="center"
fileref="???"></imagedata></imageobject>
<caption><para>Figure: Nonlinear Constraint Command</para></caption></mediaobject></screenshot>
<screenshot><info><title>Figure: Minimize F Command</title></info><mediaobject><imageobject><imagedata align="center"
fileref="???"></imagedata></imageobject>
<caption><para>Figure: Minimize F Command</para></caption></mediaobject></screenshot>
<screenshot><info><title>Figure: Report Command</title></info><mediaobject><imageobject><imagedata align="center"
fileref="???"></imagedata></imageobject>
<caption><para>Figure: Report Command</para></caption></mediaobject></screenshot>
</section>
</section>
<section>
<title>The resulting view of Resource, Mission, and Output trees</title>
<screenshot><info><title>Figure: Algebraic Optimization Resource, Mission, and Output trees</title></info><mediaobject><imageobject><imagedata align="center"
fileref="???"></imagedata></imageobject>
<caption><para>Figure: Algebraic Optimization Resource, Mission, and Output trees</para></caption></mediaobject></screenshot>
</section>
<section>
<title>Running the Mission</title>
<para>[tiki-index.php?page=Algebraic+Optimization#_b_Resource_Mission_and_Output_trees_b_|Resource Mission and Output trees]</para>
<para>There is no plot for this mission sequence. Its results - values X1, X2, and the minimum value of the optimized function F - can be found by calling ReportFile Data.</para>
<screenshot><info><title>Figure: Data ReportFile</title></info><mediaobject><imageobject><imagedata align="center"
fileref="???"></imagedata></imageobject>
<caption><para>Figure: Data ReportFile</para></caption></mediaobject></screenshot>
</section>
</section>