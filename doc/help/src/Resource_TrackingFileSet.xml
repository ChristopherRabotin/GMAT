<?xml version="1.0" encoding="UTF-8"?>
<refentry version="5.0" xml:id="TrackingFileSet"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:xi="http://www.w3.org/2001/XInclude"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml"
          xmlns:db="http://docbook.org/ns/docbook">
  <indexterm>
    <primary>TrackingFileSet</primary>
  </indexterm>

  <refmeta>
    <refentrytitle>TrackingFileSet</refentrytitle>

    <refmiscinfo class="source">GMAT</refmiscinfo>

    <refmiscinfo class="manual">Resources</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>TrackingFileSet</refname>

    <refpurpose>Manages the observation data contained in one or more external
    tracking data files.</refpurpose>
  </refnamediv>

  <refsection>
    <title>Description</title>

    <para>A TrackingFileSet is required for both simulator and estimator runs.
    For a data simulation run, the user must specify the desired tracking
    strings for the simulated data (via AddTrackingConfig) and provide an
    output file name for the simulated tracking observations (via FileName).
    In simulation mode, the user may specify a range modulo constant, Doppler
    count interval, and other parameters, depending on the type of tracking
    data being simulated. See the remarks below for more details.</para>

    <para>When running the estimator, the FileName parameter specifies the
    path to a pre-generated external tracking data file. It is not necessary
    to explicitly specify tracking configurations when running the estimator;
    GMAT will examine the specified external tracking data file and determine
    the tracking configurations automatically. GMAT will throw an error
    message if it is unable to uniquely identify all objects found in the
    tracking data file.</para>

    <para>When running the estimator, one or more StatisticsAcceptFilters
    and/or StatisticsRejectFilters may be employed to select from all
    available observations a smaller subset for use in the estimation
    process.</para>

    <para>The SimRangeModuloConstant and SimDopplerCountInterval fields apply
    only to the simulator and are ignored by the estimator. When running the
    estimator, these values are provided in the tracking data file. For both
    the simulator and estimator, relativity, light time, and ET-TAI
    corrections may optionally be applied.</para>

    <para>See Also: <xref linkend="Simulator"/>, <xref
    linkend="BatchEstimatorInv"/>, <xref linkend="StatisticsAcceptFilter"/>,
    <xref linkend="StatisticsRejectFilter"/></para>
  </refsection>

  <refsection>
    <title>Fields</title>

    <informaltable colsep="0" frame="topbot">
      <tgroup cols="2">
        <colspec colwidth="1.0*"/>

        <colspec colwidth="3*"/>

        <thead>
          <row>
            <entry>Field</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><guilabel>AddTrackingConfig</guilabel></entry>

            <entry><para>One or more signal paths and measurement types for
            simulation or estimation. See notes and examples for
            details.</para><variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>{{&lt;XMIT_GroundStation&gt;, &lt;Spacecraft&gt;,
                    &lt;RECV_GroundStation&gt;}, MeasurementType1[,
                    MeasurementType2]}</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para><guilabel>None</guilabel></para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>DataFilters</guilabel></entry>

            <entry><para>Defines filters to be applied to the data. One or
            more filters of either type (StatisticsAcceptFilter,
            StatisticsRejectFilter) may be specified.</para><variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Resource</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>User defined instances of StatisticsAcceptFilter and
                    StatisticsRejectFilter resources</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para><guilabel>None</guilabel></para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>FileName</guilabel></entry>

            <entry><para>For simulation, specifies an output file for the
            simulated measurement data. For estimation, specifies one or more
            preexisting tracking data input files in
            GMD-format.</para><variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Valid file path</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para><guilabel>None</guilabel></para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>RampTable</guilabel></entry>

            <entry><para>Specify a transmit frequency ramp table to be used
            when computing measurements for both simulation and
            estimation.</para><variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Valid file path</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para><guilabel>None</guilabel></para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>UseLightTime</guilabel></entry>

            <entry><para>Flag specifying whether light time corrections should
            be applied to computed measurements.</para><variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Boolean</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>True, False</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para><guilabel>True</guilabel></para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>UseRelativityCorrection</guilabel></entry>

            <entry><para>Flag specifying if General Relativistic corrections
            should be made to the measurements.</para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Boolean</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>True, False</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      <guilabel>False</guilabel>
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>UseETminusTAI</guilabel></entry>

            <entry><para>Flag specifying if General Relativistic time
            corrections should be made to the measurements.</para>
            <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Boolean</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>True, False</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      <guilabel>False</guilabel>
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>SimRangeModuloConstant</guilabel></entry>

            <entry><para>Specifies the value of the maximum DSN Range value.
            This value only used in simulation mode.</para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real &gt; 0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      <guilabel>1.00E+18</guilabel>
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>Range Units (RU)</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>SimDopplerCountInterval</guilabel></entry>

            <entry><para>Specifies the Doppler count interval used for Doppler
            measurements. This value is only used in simulation mode.</para>
            <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real &gt; 0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      <guilabel>1.0</guilabel>
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>Seconds</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </refsection>

  <refsection>
    <title>Remarks</title>

    <para>The SimRangeModuloConstant field is used only in the simulation of
    DSN tracking data. The user may specify a value to be used for this field
    or may omit it, in which case the default value is used. This field is not
    applicable to estimation. In estimation, this value is provided in the
    input tracking data file.</para>

    <para>The SimDopplerCountInterval is used in the simulation of DSN
    tracking data. The user may specify a value to be used for this field or
    may omit it, in which case default value of 1 second is used. This field
    is not applicable to estimation. In estimation, this values is provided in
    the input tracking data file.</para>

    <refsection>
      <title>Measurement Type Names</title>

      <para>Currently the measurement type names used to identify observation
      types in GMD data files and on the TrackingFileSet.AddTrackingConfig
      object field are not the same as those used to build measurement error
      models for those types. Use the following table as a guide.</para>

      <informaltable>
        <tgroup cols="2">
          <thead>
            <row>
              <entry align="center">GMD File and
              TrackingFileSet.AddTrackingConfig Measurement Type Name</entry>

              <entry align="center">ErrorModel Measurement Type Name</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>DSNRange</entry>

              <entry>Range_RU</entry>
            </row>

            <row>
              <entry>Doppler</entry>

              <entry>Doppler_HZ</entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </refsection>
  </refsection>

  <refsection>
    <title>Examples</title>

    <informalexample>
      <para>This example illustrates use of the TrackingFileSet object.
      Specification of the tracking configurations (AddTrackingConfig) is
      optional when running the estimator. If omitted, GMAT will attempt to
      automatically detect the tracking configurations present in the tracking
      data file. In this example, saf is an instance of a
      StatisticsAcceptFilter, defined elsewhere in the script. The
      GroundStation resources GDS, CAN, and MAD, and the Spacecraft resource
      EstSat must also be defined elsewhere in the script.</para>

      <programlisting><?db-font-size 75% ?>Create TrackingFileSet dsnObs;
  
dsnObs.AddTrackingConfig       = {{GDS, EstSat, GDS}, 'Doppler'};
dsnObs.AddTrackingConfig       = {{CAN, EstSat, CAN}, 'Doppler'};
dsnObs.AddTrackingConfig       = {{MAD, EstSat, MAD}, 'Doppler', 'Range_KM'};
dsnObs.FileName                = {'dsn.gmd'};
dsnObs.RampTable               = {'dsn.ramp'};
dsnObs.UseLightTime            = True;
dsnObs.UseRelativityCorrection = False;
dsnObs.UseETminusTAI           = False;
dsnObs.SimRangeModuloConstant  = 67108864;
dsnObs.SimDopplerCountInterval = 10.; 
dsnObs.DataFilters             = {saf};</programlisting>
    </informalexample>
  </refsection>
</refentry>
