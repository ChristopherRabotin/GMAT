<?xml version="1.0" encoding="UTF-8"?>
<refentry version="5.0"
          xml:id="ImpulsiveBurn"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:xi="http://www.w3.org/2001/XInclude"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml"
          xmlns:db="http://docbook.org/ns/docbook">
  <indexterm>
    <primary>ImpulsiveBurn</primary>
  </indexterm>

  <refmeta>
    <refentrytitle>ImpulsiveBurn</refentrytitle>

    <refmiscinfo class="source">GMAT</refmiscinfo>

    <refmiscinfo class="version">2012a</refmiscinfo>

    <refmiscinfo class="manual">Resources</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>ImpulsiveBurn</refname>

    <refpurpose>
      An impulsive maneuver
    </refpurpose>
  </refnamediv>

  <refsection>
    <title>Description</title>

    <para>
      The <guilabel>impulsive burn</guilabel> object allows the spacecraft to undergo an instantaneous Delta-v (ΔV), as opposed to a finite 
      burn which is not instantaneous, by specifying the three vector components of the delta-v.  The user can configure the 
      burn by defining its coordinate system and vector component values.  For Local coordinate systems, the user can choose the origin and type of axes. 
      Depending on the mission, it may be simpler to use one coordinate system over another.
    </para>
  </refsection>

  <refsection>
    <title>Fields</title>

    <informaltable colsep="0"
                   frame="topbot">
      <tgroup cols="2">
        <colspec colnum="1"
                 colwidth=".5*"/>

        <colspec colnum="2"
                 colwidth="3*"/>

        <thead>
          <row>
            <entry>Field</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry>
              <guilabel>Element1</guilabel>
            </entry>

            <entry>
              <para>
                X-component of the applied impulsive burn (Delta-V)
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      set, get
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      1
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>
          <row>
            <entry>
              <guilabel>Element2</guilabel>
            </entry>

            <entry>
              <para>
                Y-component of the applied impulsive burn (Delta-V)
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      set, get
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      0
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>Element3 </guilabel>
            </entry>

            <entry>
              <para>
                Z-component of the applied impulsive burn (Delta-V)
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      set, get
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      0
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>GravitationalAccel</guilabel>
            </entry>

            <entry>
              <para>
                Value of the gravitational acceleration used to calculate fuel depletion.  
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real &gt; 0
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      set, get
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      9.81
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>m/s^2</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>Isp </guilabel>
            </entry>

            <entry>
              <para>
                Value of the specific impulse of the fuel
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      set, get
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      300
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>s</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>Axes </guilabel>
            </entry>

            <entry>
              <para>
                The Axes field allows the user to define a spacecraft centered set of axes for the impulsive burn. 
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      String
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      VNB, LVLH, MJ2000Eq, SpacecraftBody
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      set
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      VNB
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>DecrementMass </guilabel>
            </entry>

            <entry>
              <para>
                Flag which determines if the FuelMass is to be decremented as it used.   
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      String
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      true, false
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      set
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      FALSE
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>CoordinateSystem</guilabel>
            </entry>

            <entry>
              <para>
                The CoordinateSystem field for an impulsive burn determines what coordinate system the orientation parameters, Element1, Element2, and Element3 refer to. 
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      UserDefString
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Local, EarthMJ2000Eq, EarthMJ2000Ec, EarthFixed, or any user defined system
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      set
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      Local
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>Origin </guilabel>
            </entry>

            <entry>
              <para>
                The Origin field, used in conjunction with the Axes field, allows the user to define a spacecraft centered set of axes for the impulsive burn. 
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      UserDefString
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Sun, Mercury, Venus, Earth, Luna, Mars,Jupiter, Saturn, Uranus, Neptune, Pluto
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      set
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      Earth
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>Tank</guilabel>
            </entry>

            <entry>
              <para>
                Tank from which the thruster draws propellant from.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      UserDefStringList
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      User defined list of FuelTanks
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      set
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      N/A
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>
          



        </tbody>
      </tgroup>
    </informaltable>
  </refsection>

  <refsection>
    <title>GUI</title>

    <para>
      The ImpulsiveBurn dialog box allows you to specify properties of an impulsive burn including Delta-V component values and 
      choice of coordinate system.  If you choose to model fuel loss associated with an impulsive burn, you must specify choice of fuel tank as 
      well as ISP value and gravitational acceleration used to calculate fuel use. The layout of the ImpulsiveBurn dialog box is shown below.
    </para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center"
                     contentdepth="100%"
                     fileref="files/images/Resource_ImpulsiveBurn_GUI.png"
                     scalefit="1"
                     width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>
      The “Origin” and “Axes” fields are only relevant if “Coordinate System” is set to Local.  See the Remarks for more detail on local coordinate systems.
    </para>

    <para>
      If “Decrement Mass” is checked, then you can select the desired FuelTank used as the fuel supply for mass depletion.
    </para>
  </refsection>

  <refsection>
    <title>Remarks</title>

    <refsection>
      <title>
        Local Coordinate Systems
      </title>

      <para>
        Here, a Local coordinate system is defined as one that we configure "locally" using the thruster 
        object interface as opposed to defining a coordinate system using the Coordinate Systems folder in the Resources Tree.
      </para>

      <para>
        To configure a Local coordinate system, you must specify the coordinate system of the input Delta-V vector, Element1-3.  If you choose a local coordinate system, the four choices available, as given by the Axes sub-field, are VNB, LVLH, MJ2000Eq, and SpacecraftBody.  VNB or Velocity-Normal-Binormal is a non-inertial coordinate system based upon the motion of the spacecraft with respect to the Origin sub-field.  For example, if the Origin is chosen as Earth, then the X-axis of this coordinate system is the along the velocity of the spacecraft with respect to the Earth, the Y-axis is along the instantaneous orbit normal (with respect to the Earth) of the spacecraft, and the Z-axis points away from the Earth as much as possible while remaining orthogonal to the other two axes, completing the right-handed set.
      </para>

      <para>
        Similarly, Local Vertical Local Horizontal or LVLH is a non-inertial coordinate system based upon the motion of the spacecraft with respect to the body specified in the Origin sub-field.  If you choose Earth as the origin, then the X-axis of this coordinate system points from the center of the Earth to the spacecraft, the Z-axis is along the instantaneous orbit normal (with respect to the Earth) of the spacecraft, and the Y-axis completes the right-handed set.  For typical bound orbits, the Y-axis is approximately aligned with the velocity vector.  In the event of a perfectly circular orbit, the Y axis is exactly along the velocity vector.
      </para>

      <para>
        MJ2000Eq is the J2000-based Earth-centered Earth mean equator inertial coordinate system.  Note that the Origin sub-field is not needed to define this coordinate system.
      </para>

      <para>
        SpacecraftBody is the coordinate system used by the spacecraft.  Since the thrust is applied in this system, GMAT uses the attitude of the spacecraft, a spacecraft attribute, to determine the inertial thrust direction.  Note that the Origin sub-field is not needed to define this coordinate system.
      </para>
    	
	</refsection>

	    <refsection>
      <title>
        Deprecated Field Names for an ImpulsiveBurn
      </title>
	   <para>
	  Note that the standard method, as shown below, for specifying the components of an ImpulsiveBurn is to use the Element1, Element2, and Element3 field names. 
  </para>
	    <programlisting>
        <code>
Create ImpulsiveBurn DefaultIB;
GMAT DefaultIB.Element1 = -3;
GMAT DefaultIB.Element2 = 7;
GMAT DefaultIB.Element3 = -2;
        </code>
      </programlisting>
<para>
For this current version of GMAT, you may also use the field names V, N, and B in place of Element1, Element2, and Element3, respectively. The commands below are equivalent to the commands above. 
 </para>
  <programlisting>
        <code>
Create ImpulsiveBurn DefaultIB;
GMAT DefaultIB.V = -3;
GMAT DefaultIB.N = 7;
GMAT DefaultIB.B = -2;
        </code>
      </programlisting>
 <para>
It is important to note that the V, N, B field names do not necessarily correspond to some Velocity, Normal, Binormal coordinate system. The Coordinate system of any impulsive burn is always specified by the CoordinateSystem, Origin, and Axes fields. Because of the confusion that the V, N, B field names can cause, their use will not be allowed in future versions of GMAT. If you use the V, N, B field names in this version of GMAT, you will receive a warning to this affect.
 </para>
	 
	  	  
	</refsection>
	
    <refsection>
      <title>
        Interactions
      </title>

      <informaltable colsep="0"
                     frame="topbot">
        <tgroup cols="2">
          <colspec colnum="1"
                   colwidth=".5*"/>

          <colspec colnum="2"
                   colwidth="3*"/>

          <thead>
            <row>
              <entry>Spacecraft resource</entry>

              <entry>Must be created in order to apply any burn. </entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>
                <guilabel>FuelTank resource</guilabel>
              </entry>

              <entry>
                <para>
                  If you want to model mass depletion for an impulsive maneuver, attach a FuelTank to the maneuvered spacecraft as a source of fuel mass.
                </para>
              </entry>
            </row>

            <row>
              <entry>
                <guilabel>Maneuver command</guilabel>
              </entry>

              <entry>
                <para>
                  Must use the Maneuver command to apply an impulsive burn to a spacecraft.
                </para>
              </entry>
            </row>

            <row>
              <entry>
                <guilabel>Vary command</guilabel>
              </entry>

              <entry>
                <para>
                  If user wants to allow the impulsive burn components to vary in order to achieve some goal, 
                  then the Vary command, as part of a Target or Optimize command sequence, must be used.
                </para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </refsection>
  </refsection>

  <refsection>
    <title>Examples</title>

    <informalexample>
      <para>
        Create a default FuelTank and an ImpulsiveBurn that allows for fuel depletion, assign the ImpulsiveBurn the 
        default FuelTank, attach the FuelTank to a Spacecraft, and apply the ImpulsiveBurn to the Spacecraft.
      </para>

      <programlisting>
        <code>
  %  Create the FuelTank Object
  Create FuelTank FuelTank1;
  GMAT FuelTank1.AllowNegativeFuelMass = false;
  GMAT FuelTank1.FuelMass = 756;
  GMAT FuelTank1.Pressure = 1500;
  GMAT FuelTank1.Temperature = 20;
  GMAT FuelTank1.RefTemperature = 20;
  GMAT FuelTank1.Volume = 0.75;
  GMAT FuelTank1.FuelDensity = 1260;
  GMAT FuelTank1.PressureModel = PressureRegulated;

  Create ImpulsiveBurn DefaultIB;
  GMAT DefaultIB.CoordinateSystem = Local;
  GMAT DefaultIB.Origin = Earth;
  GMAT DefaultIB.Axes = VNB;
  GMAT DefaultIB.Element1 = 0.001;
  GMAT DefaultIB.Element2 = 0;
  GMAT DefaultIB.Element3 = 0;
  GMAT DefaultIB.DecrementMass = true;
  GMAT DefaultIB.Tank = {FuelTank1};
  GMAT DefaultIB.Isp = 300;
  GMAT DefaultIB.GravitationalAccel = 9.810000000000001;

  %  Add the the FuelTank to a Spacecraft
  GMAT Create Spacecraft DefaultSC;
  GMAT DefaultSC.Tanks = {FuelTank1};


  BeginMissionSequence
  Maneuver DefaultIB(DefaultSC);
        </code>
      </programlisting>
    </informalexample>
  </refsection>
</refentry>
