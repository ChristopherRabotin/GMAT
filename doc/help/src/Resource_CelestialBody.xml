<?xml version="1.0" encoding="UTF-8"?>
<refentry version="5.0"
          xml:id="CelestialBody"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:xi="http://www.w3.org/2001/XInclude"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml"
          xmlns:db="http://docbook.org/ns/docbook">
  <indexterm>
    <primary>CelestialBody</primary>
  </indexterm>

  <refmeta>
    <refentrytitle>CelestialBody</refentrytitle>

    <refmiscinfo class="source">GMAT</refmiscinfo>

    <refmiscinfo class="version">2012a</refmiscinfo>

    <refmiscinfo class="manual">Resources</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>CelestialBody</refname>

    <refpurpose>
      A celestial body model
    </refpurpose>
  </refnamediv>

  <refsection>
    <title>Description</title>

    <para>
      The CelestialBody resource is a model of a celestial body containing settings for the physical properties, as well as the models for the orbital motion and orientation.  GMAT contains built-in models for the Sun, the 8 planets, Earth's moon, and Pluto.  
      You can create a custom CelestialBody resource to model a planet, asteroid, comet, or moon.
    </para>

    <para>
      <phrase role="ref_seealso">See Also</phrase>: 
      <xref linkend="SolarSystem"/>, 
      <xref linkend="Barycenter"/>,
      <xref linkend="LibrationPoint"/>,
      <xref linkend="CoordinateSystem"/>
    </para>
  </refsection>

  <refsection>
    <title>Fields</title>

    <informaltable colsep="0"
                   frame="topbot">
      <tgroup cols="2">
        <colspec colnum="1"
                 colwidth=".5*"/>

        <colspec colnum="2"
                 colwidth="3*"/>

        <thead>
          <row>
            <entry>Field</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry>
              <guilabel>FileName</guilabel>
            </entry>

            <entry>
              <para>
                Texture map used in <guilabel>OrbitView</guilabel> graphics.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      FileName
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Valid file of type
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>
                      
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      '../data/graphics/texture/GenericCelestialBody.jpg'
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      N/A
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>EquatorialRadius </guilabel>
            </entry>

            <entry>
              <para>
                The body's equatorial radius.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real &gt; 0
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      6378.1363
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      km
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>Flattening</guilabel>
            </entry>

            <entry>
              <para>
                The body's polar flattening.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real &gt;= 0
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      0.0033527
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      N/A
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>Mu</guilabel>
            </entry>

            <entry>
              <para>
                The body's gravitational parameter.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real &gt; 0
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      398600.4415
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      km^3/s^2
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>NutationUpdateInterval </guilabel>
            </entry>

            <entry>
              <para>
                The interval between updates for Earth nutation matrix. 
                If NutationUpdateInterval = 3600, then GMAT only updated nutation on an hourly basis.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Range &gt;= 0
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      60
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      sec.
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>RotationConstant </guilabel>
            </entry>

            <entry>
              <para>
                The body's spin angle at the orientation epoch.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      190.147
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      deg
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>RotationRate</guilabel>
            </entry>

            <entry>
              <para>
                The body's spin rate.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      360.9856235
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      deg/day
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>SpinAxisDECConstant</guilabel>
            </entry>

            <entry>
              <para>
                The declination of the body's spin axis at the orientation epoch.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      90
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      deg
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>SpinAxisDECRate</guilabel>
            </entry>

            <entry>
              <para>
                The rate of change of the body's declination.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      -0.5570
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      deg/day
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>SpinAxisRAConstant</guilabel>
            </entry>

            <entry>
              <para>
                The right ascension of the body's spin axis at the orientation epoch.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      -0.641
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      deg
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>SpinAxisRARate</guilabel>
            </entry>

            <entry>
              <para>
                The rate of change of the body's right ascension.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Real
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      -0.641
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      deg/day
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>OrientationEpoch</guilabel>
            </entry>

            <entry>
              <para>
                The reference epoch for orientation data.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      String
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      6116.0 &lt;= Epoch &lt;= 58127.5
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      21545.0
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      A1 Mod Julian Epoch
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>PosVelSource </guilabel>
            </entry>

            <entry>
              <para>
                The model for the bodies orbit ephemeredes.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      String
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      'SPICE'
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      'DE405' for build in bodies. 'SPICE' for user defined bodies.
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      N/A
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>RotationDataSource</guilabel>
            </entry>

            <entry>
              <para>
                For Earth default is 'FK5IAU1980', for Luna default is DE405, for selected build it bodies 
                IAU2000, and for selected built in bodies and all user defined bodies, default is IAUSimplified.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      String
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      'IAUSimplified', 'DE405' 'FK5IAU1980', 'IAU2000'
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      For Earth default is 'FK5IAU1980', for Luna default is DE405, 
                      for selected build it bodies IAU2000, and for selected built in 
                      bodies and all user defined bodies, default is IAUSimplified.
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      N/A
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>OrbitSpiceKernelName</guilabel>
            </entry>

            <entry>
              <para>
                List of SPK kernels.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      StringArray
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Valid SPK kernel
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      N/A
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      N/A
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>
          
          <row>
            <entry>
              <guilabel>CentralBody</guilabel>
            </entry>

            <entry>
              <para>
                The central body of the celestial body. The central body field is used primarily by the GUI.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      UserDefString
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Celestial Body
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      For Comet, Planet, Asteroid, the default is Sun. For Moon, the default is Earth.
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      N/A
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>

          <row>
            <entry>
              <guilabel>NAIFId</guilabel>
            </entry>

            <entry>
              <para>
                NAIF Integer ID for body.
              </para>
              <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>
                      UserDefString
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      Integer
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>

                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      -123456789
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>
                      N/A
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </refsection>

  <refsection>
    <title>GUI</title>

    <para>
      The <guilabel>CelestialBody</guilabel> GUI has three tabs that allow you to set the physical properties, orbital properties, and the orientation model. 
      <guilabel>CelestialBody</guilabel> resources can be used in <guilabel>ForceModels</guilabel>, <guilabel>CoordinateSystems</guilabel>,
      <guilabel>LibrationPoints</guilabel>, and <guilabel>Barycenters</guilabel>, among others. 
      For a built-in <guilabel>CelestialBody</guilabel>, the Orbit and Orientation tabs are largely inactive and the behavior is discussed below.  
      To create a custom Asteroid - as an example of how to create a custom <guilabel>CelestialBody</guilabel> - perform the following steps.
    </para>

    <orderedlist>
      <listitem>
        <para>
          In the Resource Tree, expand the SolarSystem folder.
        </para>
      </listitem>
      <listitem>
        <para>
          Right-click Sun and select Add -> Asteroid.
        </para>
      </listitem>
      <listitem>
        <para>
          In the New Asteroid dialog box, type the desired name.
        </para>
      </listitem>
    </orderedlist>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center"
                     contentdepth="100%"
                     fileref="files/images/Resource_CelestialBody_GUI_1.png"
                     scalefit="1"
                     width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>
      The <guilabel>CelestialBody</guilabel> Properties tab is shown below.  GMAT models all bodies as spherical ellipsoids and you can set the <guilabel>Equatorial Radius</guilabel>, 
      <guilabel>Flattening</guilabel>, and <guilabel>Mu</guilabel> (gravitational parameter) on this dialog box, as well as the texture map used in <guilabel>OrbitView</guilabel> graphics displays.
    </para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center"
                     contentdepth="100%"
                     fileref="files/images/Resource_CelestialBody_GUI_2.png"
                     scalefit="1"
                     width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>
      The <guilabel>CelestialBody</guilabel> Orbit tab is shown below for creating a custom <guilabel>CelestialBody</guilabel>.  Settings on this panel are inactive for built-in celestial bodies 
      and the ephemeris for built-in bodies is configured on the <guilabel>Solar System</guilabel> dialog.  The CentralBody field is populated automatically when the object is created and is always inactive. 
      To configure SPICE ephemerides
      for a custom body, provide a list of SPK files and the NAIF ID.  See the Remarks section below for more information on configuring SPICE files.
    </para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center"
                     contentdepth="100%"
                     fileref="files/images/Resource_CelestialBody_GUI_3.png"
                     scalefit="1"
                     width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>
      The <guilabel>CelestialBody</guilabel> Orientation tab is shown below.  Most settings on this panel are inactive for built-in celestial bodies and exceptions for the Earth and Earth's
      moon are described further below.  To define the orientation for a celestial body you provide a reference epoch,
      the initial orientation at the reference epoch, and angular rates.  See the Remarks section for a more detailed description of the orientation model.
    </para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center"
                     contentdepth="100%"
                     fileref="files/images/Resource_CelestialBody_GUI_4.png"
                     scalefit="1"
                     width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>
      he Earth and Earth's moon have unique fields to configure their orientation models.  
      The Earth has an extra field called Nutation Update Interval that can be used when lower fidelity, higher performance simulations are required.
    </para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center"
                     contentdepth="100%"
                     fileref="files/images/Resource_CelestialBody_GUI_5.png"
                     scalefit="1"
                     width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </refsection>

  <refsection>
    <title>Remarks</title>

    <refsection>
      <title>Celestial Body Orientation Model</title>

      <para>
        The orientation of built-in celestial bodies is modeled using high fidelity theories on a per-body basis.  The orientation of Earth is modeled using IAU-1976/FK5.  Th orientation of the Moon is modeled using lunar librations from the DE405 file.
        The remaining built-in celestial body orientations are modeled using data published by the IAU/IAG and documented by Seidelmann1.
      </para>

      <para>
        The orientation of a custom <guilabel>CelestialBody</guilabel> is modeled by providing three angles and their rates based on IAU/IAG conventions.  The figure below illustrates the angles. 
        The angles αo, δo, and W, are respectively the <guilabel>SpinAxisRAConstant</guilabel>, <guilabel>SpinAxisDECConstant</guilabel>, and <guilabel>RotationConstant</guilabel>. 
        The angular rates are respectively SpinAxisRARate, SpinAxisDECRate, and RotationRate. 
        All angles are referenced to the X-Y plane of the ICRF axis system. 
        The constant values <guilabel>SpinAxisRAConstant</guilabel>, <guilabel>SpinAxisDECConstant</guilabel>, and <guilabel>RotationConstant</guilabel> are defined to be the values at the epoch defined in <guilabel>OrientationEpoch</guilabel>.
      </para>

      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata align="center"
                       contentdepth="100%"
                       fileref="files/images/Resource_CelestialBody_GUI_6.png"
                       scalefit="1"
                       width="100%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>
        Below is an example illustrating how to configure a <guilabel>CelestialBody</guilabel> according to the IAU 2006 recommended values for Vesta. Note the orientation epoch typically 
        used by the IAU is 01 Jan 2000 12:00:00.00.000 TDB and this must be converted to A1ModJulian which can easily be performed using the Spacecraft Orbit dialog box.
      </para>

      <programlisting>
        <code>
  Create Asteroid Vesta
  Vesta.CentralBody         = Sun;
  Vesta.OrientationEpoch    = 21544.99962789878;  %  Note that currently the only available format for OrientationEpoch is A1ModJulian
  Vesta.SpinAxisRAConstant  = 301.9;
  Vesta.SpinAxisRARate      = 0.9;
  Vesta.SpinAxisDECConstant = 90.9;
  Vesta.SpinAxisDECRate     = 0.0;
  Vesta.RotationConstant    = 292.9;
  Vesta.RotationRate        = 1617.332776;
        </code>
      </programlisting>

      <para>
        Note: The orientation models available for Earth and Luna have additional fields for configuration.   Earth has an additional field called  Nutation Update Interval that controls the update frequency for the Nutation matrix.  For high fidelity applications, NutationUpdateInterval should be set to zero.  The RotationDataSource field for Earth and Luna defines the theory used for the rotation of those bodies.  Currently, only FK5IAU1980 and DE405 are available for Earth and Luna respectively and the field is displayed for information purposes only.  Future versions of GMAT will support DE421 for Luna and IAU-2000A theory for Earth.
      </para>
    </refsection>
  </refsection>

  <refsection>
    <title>
      Configuring Orbit Ephemerides
    </title>

    <para>
      The ephemerides for built-in celestial bodies is specified by the SolarSystem.EphemerisSource field and the same source is used for all built-in bodies.
      Ephemerides for a custom CelestialBody are provided by SPICE files.   Archives of available SPICE files are the JPL NAIF site here (ftp://naif.jpl.nasa.gov/pub/naif/generic_kernels/spk/)
      and the Solar System Dynamics site here (ftp://ssd.jpl.nasa.gov/pub/eph/planets/bsp/).
      JPL provides utilities to create custom SPICE files in the event existing kernels don't satisfy requirements for your application.
      To create custom SPICE kernels, see the documentation provided by JPL (http://naif.jpl.nasa.gov/naif/documentation.html).  The list of NAIF Ids for celestial bodies is located here (http://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/req/naif_ids.html).
    </para>

    <para>
      To specify the SPICE kernels for a custom <guilabel>CelestialBody</guilabel>, use the <guilabel>NAIFId</guilabel>, <guilabel>CentralBody</guilabel>, and <guilabel>SourceFileName</guilabel> fields. 
      GMAT is distributed with an SPK file for CERES which has a NAIF ID 2000001.  Here is how to configure a <guilabel>CelestialBody</guilabel> to use the CERES SPICE ephemeris data.
    </para>

    <programlisting>
      <code>
  Create CelestialBody Ceres
  Ceres.CentralBody = Sun;
  Ceres.SourceFilename = '../data/planetary_ephem/spk/ceres_1900_2100.bsp'
      </code>
    </programlisting>

    <para>
      Note: GMAT currently only supports a single ephemeris model for custom bodies (SPICE)  and this is set using PosVelSource field.  The default for PosVelSource is SPICE and it is not necessary to configure this field in the current version of GMAT.
    </para>
  </refsection>

  <refsection>
    <title>Configuring Physical Properties</title>

    <para>
      GMAT models all celestial bodies as spherical ellipsoids. 
      To define the physical properties use the <guilabel>Flattening</guilabel>, <guilabel>EquatorialRadius</guilabel>, and <guilabel>Mu</guilabel> fields.
    </para>
  </refsection>
  <refsection>
    <title>Examples</title>

    <informalexample>
      <para>
        Configure a CelestialBody to model Saturn's moon Titan.
        Note you must obtain the SPICE kernel named "sat351.bsp" from here (ftp://naif.jpl.nasa.gov/pub/naif/generic_kernels/spk/satellites/) 
        and place it it the directory identified in the script snippet below
      </para>

      <programlisting>
        <code>
  Create Moon Titan;
  GMAT Titan.NAIFId               = 606;
  GMAT Titan.OrbitSpiceKernelName = {'../data/planetary_ephem/spk/DE421AllPlanets.bsp', '../data/planetary_ephem/spk/sat351.bsp'};
  GMAT Titan.EquatorialRadius     = 2575;
  GMAT Titan.Flattening           = 0;
  GMAT Titan.Mu                   = 8978.5215;
  GMAT Titan.PosVelSource         = 'SPICE';
  GMAT Titan.CentralBody          = 'Saturn';
  GMAT Titan.RotationDataSource   = 'IAUSimplified';
  GMAT Titan.OrientationEpoch     = 21545;
  GMAT Titan.SpinAxisRAConstant   = 36.41;
  GMAT Titan.SpinAxisRARate       = -0.036;
  GMAT Titan.SpinAxisDECConstant  = 83.94;
  GMAT Titan.SpinAxisDECRate      = -0.004;
  GMAT Titan.RotationConstant     = 189.64;
  GMAT Titan.RotationRate         = 22.5769768;
        </code>
      </programlisting>
    </informalexample>
  </refsection>
</refentry>
