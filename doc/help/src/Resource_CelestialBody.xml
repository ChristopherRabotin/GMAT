<?xml version="1.0" encoding="UTF-8"?>
<refentry version="5.0" xml:id="CelestialBody"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:xi="http://www.w3.org/2001/XInclude"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:m="http://www.w3.org/1998/Math/MathML"
          xmlns:html="http://www.w3.org/1999/xhtml"
          xmlns:db="http://docbook.org/ns/docbook">
  <indexterm>
    <primary>CelestialBody</primary>
  </indexterm>

  <refmeta>
    <refentrytitle>CelestialBody</refentrytitle>

    <refmiscinfo class="source">GMAT</refmiscinfo>

    <refmiscinfo class="manual">Resources</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>CelestialBody</refname>

    <refpurpose>A celestial body model</refpurpose>
  </refnamediv>

  <refsection>
    <title>Description</title>

    <para>The <guilabel>CelestialBody</guilabel> resource is a model of a
    celestial body containing settings for the physical properties, as well as
    the models for the orbital motion and orientation. GMAT contains built-in
    models for the Sun, the 8 planets, Earth's moon, and Pluto. You can create
    a custom <guilabel>CelestialBody</guilabel> resource to model a planet,
    asteroid, comet, or moon. This resource cannot be modified in the Mission
    Sequence.</para>

    <para><phrase role="ref_seealso">See Also</phrase>: <xref
    linkend="SolarSystem"/>, <xref linkend="Barycenter"/>, <xref
    linkend="LibrationPoint"/>, <xref linkend="CoordinateSystem"/></para>
  </refsection>

  <refsection>
    <title>Fields</title>

    <informaltable colsep="0" frame="topbot">
      <tgroup cols="2">
        <colspec colnum="1" colwidth="1.3*"/>

        <colspec colnum="2" colwidth="3*"/>

        <thead>
          <row>
            <entry>Field</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><guilabel>CentralBody</guilabel></entry>

            <entry><para> The central body of the celestial body. The central
            body field is used primarily by the GUI. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para><guilabel>Comet</guilabel>,
                    <guilabel>Planet</guilabel>,
                    <guilabel>Asteroid</guilabel>, or
                    <guilabel>Moon</guilabel></para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>For <guilabel>Comet</guilabel>,
                    <guilabel>Planet</guilabel>,
                    <guilabel>Asteroid</guilabel>, the default is
                    <guilabel>Sun</guilabel>. For <guilabel>Moon</guilabel>,
                    the default is <guilabel>Earth</guilabel>.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>EquatorialRadius </guilabel></entry>

            <entry><para> The body's equatorial radius. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real &gt; 0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>6378.1363</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>FileName</guilabel></entry>

            <entry><para> Path and/or name of texture map file used in
            <guilabel>OrbitView</guilabel> graphics. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>A file of the following format:</para>

                    <para>.jpeg, .bmp, .png, .gif, .tif, .pcx, .pnm, .tga, or
                    .xpm</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>
                      <literal>'../data/graphics/texture/GenericCelestialBody.jpg'</literal>
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>Flattening</guilabel></entry>

            <entry><para> The body's polar flattening. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real &gt;= 0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>0.0033527</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>Mu</guilabel></entry>

            <entry><para> The body's gravitational parameter. </para>
            <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real &gt; 0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>398600.4415</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>km^3/s^2</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>NAIFId</guilabel></entry>

            <entry><para> NAIF Integer ID for body. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Integer</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Integer</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>-123456789</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>NutationUpdateInterval </guilabel></entry>

            <entry><para> The time interval between updates for Earth nutation
            matrix. If NutationUpdateInterval = 3600, then GMAT only updates
            nutation on an hourly basis. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real &gt;= 0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>60</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>sec.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>OrbitSpiceKernelName</guilabel></entry>

            <entry><para> List of SPK kernels. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Reference array</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>valid array of SPK kernels</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>OrientationEpoch</guilabel></entry>

            <entry><para> The reference epoch for orientation data. </para>
            <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>6116.0 &lt;= Epoch &lt;= 58127.5</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>21545.0</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>A1 Modified Julian Epoch</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>PosVelSource </guilabel></entry>

            <entry><para>The model for user-defined body orbit ephemeredes.
            GMAT currently only supports a single ephemeris model for custom
            bodies (SPICE) and this is set using
            <guilabel>PosVelSource</guilabel> field. The default for
            <guilabel>PosVelSource</guilabel> is SPICE and it is not necessary
            to configure this field in the current version of GMAT. This field
            has no effect for built-in bodies.</para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>
                      <guilabel>SPICE</guilabel>
                    </para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para><guilabel>DE405</guilabel> for build in bodies.
                    <guilabel>SPICE</guilabel> for user defined bodies.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>RotationConstant </guilabel></entry>

            <entry><para> The body's spin angle at the orientation epoch.
            </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>190.147</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>RotationDataSource</guilabel></entry>

            <entry><para>For <guilabel>Earth</guilabel> default is
            <guilabel>FK5IAU1980</guilabel>, for <guilabel>Luna</guilabel>
            default is <guilabel>DE405</guilabel>, for selected built in
            bodies <guilabel>IAU2000</guilabel>, and for selected built in
            bodies and all user defined bodies, default is
            <guilabel>IAUSimplified</guilabel>. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>String</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para><guilabel>IAUSimplified</guilabel>,
                    <guilabel>DE405</guilabel>,
                    <guilabel>FK5IAU1980</guilabel>,
                    <guilabel>IAU2000</guilabel>. See discussion below for
                    more details as not all options are allowed for all
                    bodies.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>For <guilabel>Earth</guilabel> default is
                    <guilabel>FK5IAU1980</guilabel>, for
                    <guilabel>Luna</guilabel> default is
                    <guilabel>DE405</guilabel>, for selected built in bodies
                    <guilabel>IAU2000</guilabel>, and for selected built in
                    bodies and all user defined bodies, default is
                    <guilabel>IAUSimplified</guilabel>.</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>N/A</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>RotationRate</guilabel></entry>

            <entry><para> The body's spin rate. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>360.9856235</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg/day</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>SpinAxisDECConstant</guilabel></entry>

            <entry><para> The declination of the body's spin axis at the
            orientation epoch. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>90</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>SpinAxisDECRate</guilabel></entry>

            <entry><para> The rate of change of the body's spin axis
            declination. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>-0.5570</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg/century</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>SpinAxisRAConstant</guilabel></entry>

            <entry><para> The right ascension of the body's spin axis at the
            orientation epoch. </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>-0.641</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>

          <row>
            <entry><guilabel>SpinAxisRARate</guilabel></entry>

            <entry><para> The rate of change of the body's right ascension.
            </para> <variablelist>
                <varlistentry>
                  <term>Data Type</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Allowed Values</term>

                  <listitem>
                    <para>Real</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Access</term>

                  <listitem>
                    <para>set</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Default Value</term>

                  <listitem>
                    <para>-0.641</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Units</term>

                  <listitem>
                    <para>deg/century</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term>Interfaces</term>

                  <listitem>
                    <para>GUI, script</para>
                  </listitem>
                </varlistentry>
              </variablelist></entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
  </refsection>

  <refsection>
    <title>GUI</title>

    <para>The <guilabel>CelestialBody</guilabel> GUI has three tabs that allow
    you to set the physical properties, orbital properties, and the
    orientation model. <guilabel>CelestialBody</guilabel> resources can be
    used in <guilabel>ForceModels</guilabel>,
    <guilabel>CoordinateSystems</guilabel>,
    <guilabel>LibrationPoints</guilabel>, and
    <guilabel>Barycenters</guilabel>, among others. For a built-in
    <guilabel>CelestialBody</guilabel>, the <guilabel>Orbit</guilabel> and
    <guilabel>Orientation</guilabel> tabs are largely inactive and the
    behavior is discussed below. To create a custom
    <guilabel>Asteroid</guilabel> - as an example of how to create a custom
    <guilabel>CelestialBody</guilabel> - perform the following steps.</para>

    <orderedlist>
      <listitem>
        <para>In the <guilabel>Resource Tree</guilabel>, expand the
        <guilabel>SolarSystem</guilabel> folder.</para>
      </listitem>

      <listitem>
        <para>Right-click <guilabel>Sun</guilabel> and select
        <guilabel>Add</guilabel> -&gt; <guilabel>Asteroid</guilabel>.</para>
      </listitem>

      <listitem>
        <para>In the <guilabel>New Asteroid</guilabel> dialog box, type the
        desired name.</para>
      </listitem>
    </orderedlist>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" contentdepth="100%"
                     fileref="files/images/Resource_CelestialBody_GUI_1.png"
                     scalefit="1" width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>The <guilabel>CelestialBody</guilabel> Properties tab is shown
    below. GMAT models all bodies as spherical ellipsoids and you can set the
    <guilabel>Equatorial Radius</guilabel>, <guilabel>Flattening</guilabel>,
    and <guilabel>Mu</guilabel> (gravitational parameter) on this dialog box,
    as well as the texture map used in <guilabel>OrbitView</guilabel> graphics
    displays.</para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" contentdepth="100%"
                     fileref="files/images/Resource_CelestialBody_GUI_2.png"
                     scalefit="1" width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>The <guilabel>CelestialBody</guilabel> <guilabel>Orbit</guilabel>
    tab is shown below for creating a custom
    <guilabel>CelestialBody</guilabel>. Settings on this panel are inactive
    for built-in celestial bodies and the ephemeris for built-in bodies is
    configured on the <guilabel>SolarSystem</guilabel> dialog. The
    <guilabel>CentralBody</guilabel> field is populated automatically when the
    object is created and is always inactive. To configure
    <guilabel>SPICE</guilabel> ephemerides for a custom body, provide a list
    of SPK files and the <guilabel>NAIF ID</guilabel>. See the discussion
    below for more information on configuring <guilabel>SPICE</guilabel>
    files.</para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" contentdepth="100%"
                     fileref="files/images/Resource_CelestialBody_GUI_3.png"
                     scalefit="1" width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>The <guilabel>CelestialBody</guilabel>
    <guilabel>Orientation</guilabel> tab is shown below. Most settings on this
    panel are inactive for built-in celestial bodies and exceptions for the
    Earth and Earth's moon are described further below. To define the
    orientation for a celestial body you provide a reference epoch, the
    initial orientation at the reference epoch, and angular rates. See the
    discussion below for a more detailed description of the orientation
    model.</para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" contentdepth="100%"
                     fileref="files/images/Resource_CelestialBody_GUI_4.png"
                     scalefit="1" width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>The Earth and Earth's moon have unique fields to configure their
    orientation models. The Earth has an extra field called
    <guilabel>NutationUpdateInterval</guilabel> that can be used when lower
    fidelity, higher performance simulations are required.</para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata align="center" contentdepth="100%"
                     fileref="files/images/Resource_CelestialBody_GUI_5.png"
                     scalefit="1" width="100%"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </refsection>

  <refsection>
    <title>Remarks</title>

    <refsection>
      <title>Celestial Body Orientation Model</title>

      <para>The orientation of built-in celestial bodies is modeled using high
      fidelity theories on a per-body basis. The orientation of Earth is
      modeled using IAU-1976/FK5. The orientation of the Moon is modeled using
      lunar librations from the DE405 file. The remaining built-in celestial
      body orientations are modeled using data published by the IAU/IAG in
      "Report of the IAU/IAG Working Group on Cartographic Coordinates and
      Rotational Elements of the Planets and Satellites: 2000".</para>

      <para>The orientation of a custom <guilabel>CelestialBody</guilabel> is
      modeled by providing three angles and their rates based on IAU/IAG
      conventions. The figure below illustrates the angles. The angles αo, δo,
      and W, are respectively the <guilabel>SpinAxisRAConstant</guilabel>,
      <guilabel>SpinAxisDECConstant</guilabel>, and
      <guilabel>RotationConstant</guilabel>. The angular rates are
      respectively <guilabel>SpinAxisRARate</guilabel>,
      <guilabel>SpinAxisDECRate</guilabel>, and
      <guilabel>RotationRate</guilabel>. All angles are referenced to the X-Y
      plane of the <guilabel>ICRF</guilabel> axis system. The constant values
      <guilabel>SpinAxisRAConstant</guilabel>,
      <guilabel>SpinAxisDECConstant</guilabel>, and
      <guilabel>RotationConstant</guilabel> are defined to be the values at
      the epoch defined in <guilabel>OrientationEpoch</guilabel>.</para>

      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata align="center" contentdepth="100%"
                       fileref="files/images/Resource_CelestialBody_GUI_6.png"
                       scalefit="1" width="70%"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>Below is an example illustrating how to configure a
      <guilabel>CelestialBody</guilabel> according to the IAU 2006 recommended
      values for Vesta. Note the orientation epoch typically used by the IAU
      is 01 Jan 2000 12:00:00.00.000 TDB and this must be converted to
      A1ModJulian which can easily be performed using the
      <guilabel>Spacecraft</guilabel> <guilabel>Orbit</guilabel> dialog
      box.</para>

      <programlisting><code>Create Asteroid Vesta
Vesta.CentralBody         = Sun
%  Note that currently the only available
%  format for OrientationEpoch is A1ModJulian
Vesta.OrientationEpoch    = 21544.99962789878  
Vesta.SpinAxisRAConstant  = 301.9
Vesta.SpinAxisRARate      = 0.9
Vesta.SpinAxisDECConstant = 90.9
Vesta.SpinAxisDECRate     = 0.0
Vesta.RotationConstant    = 292.9
Vesta.RotationRate        = 1617.332776</code></programlisting>

      <para>Note: The orientation models available for Earth and Luna have
      additional fields for configuration. Earth has an additional field
      called <guilabel>NutationUpdateInterval</guilabel> that controls the
      update frequency for the Nutation matrix. For high fidelity
      applications, <guilabel>NutationUpdateInterval</guilabel> should be set
      to zero. The <guilabel>RotationDataSource</guilabel> field for Earth and
      Luna defines the theory used for the rotation of those bodies.
      Currently, only FK5IAU1980 and DE405 are available for Earth and Luna
      respectively and the field is displayed for information purposes only.
      Future versions of GMAT will support DE421 for Luna and IAU-2000A theory
      for Earth.</para>
    </refsection>
  </refsection>

  <refsection>
    <title>Configuring Orbit Ephemerides</title>

    <para>The ephemerides for built-in celestial bodies is specified by the
    <guilabel>SolarSystem.EphemerisSource</guilabel> field and the same source
    is used for all built-in bodies. Ephemerides for a custom
    <guilabel>CelestialBody</guilabel> are provided by SPICE files. Archives
    of available SPICE files can be found at the <link
    xlink:href="ftp://naif.jpl.nasa.gov/pub/naif/generic_kernels/spk/">JPL
    NAIF site</link> and the <link
    xlink:href="ftp://ssd.jpl.nasa.gov/pub/eph/planets/bsp/">Solar System
    Dynamics site</link> . JPL provides utilities to create custom SPICE files
    in the event existing kernels don't satisfy requirements for your
    application. To create custom SPICE kernels, see the <link
    xlink:href="http://naif.jpl.nasa.gov/naif/documentation.html">documentation
    provided by JPL</link>. The list of NAIF Ids for celestial bodies is
    located <link
    xlink:href="http://naif.jpl.nasa.gov/pub/naif/toolkit_docs/C/req/naif_ids.html">here</link>.</para>

    <para>Note that the DE files model the barycenter of planetary systems. So
    for Jupiter, when using <guilabel>DE405</guilabel> for example, you are
    modeling Jupiter's location as the barycenter of the Jovian system.
    <guilabel>SPICE</guilabel> kernels differentiate the barycenter of a
    planetary system from the location of the individual bodies. So when using
    <guilabel>SPICE</guilabel> to model Jupiter, you are modeling the location
    of Jupiter using Jupiter's center of mass.</para>

    <para>To specify the SPICE kernels for a custom
    <guilabel>CelestialBody</guilabel>, use the <guilabel>NAIFId</guilabel>,
    <guilabel>CentralBody</guilabel>, and <guilabel>SourceFileName</guilabel>
    fields. GMAT is distributed with an SPK file for CERES which has
    <guilabel>NAIF ID</guilabel> 2000001. Here is how to configure a
    <guilabel>CelestialBody</guilabel> to use the CERES SPICE ephemeris
    data.</para>

    <programlisting><code>Create CelestialBody Ceres
Ceres.CentralBody = Sun
Ceres.SourceFilename = '../data/planetary_ephem/spk/ceres_1900_2100.bsp'</code></programlisting>

    <para>Note: GMAT currently only supports a single ephemeris model for
    custom bodies (SPICE) and this is set using PosVelSource field. The
    default for PosVelSource is SPICE and it is not necessary to configure
    this field in the current version of GMAT.</para>

    <warning>
      <para>NIAF distributes SPICE kernels for many celestial bodies and each
      kernel is consistent with a particular primary ephemeris release such as
      DE421. For high precision analysis, it is important to ensure that the
      ephemerides used for a custom celestial body are consistent with the
      ephemeris source selection in the
      <guilabel>SolarSystem.EphemerisSource</guilabel> field. SPICE kernels
      are typically distributed with a ".cmt" file and in that file the line
      that contains the ephemeris model looks like this:</para>

      <para>Planetary Ephemeris Number: DE-0421/LE-0421</para>
    </warning>
  </refsection>

  <refsection>
    <title>Configuring Physical Properties</title>

    <para>GMAT models all celestial bodies as spherical ellipsoids. To define
    the physical properties use the <guilabel>Flattening</guilabel>,
    <guilabel>EquatorialRadius</guilabel>, and <guilabel>Mu</guilabel>
    fields.</para>
  </refsection>

  <refsection>
    <title>Examples</title>

    <informalexample>
      <para>Configure a <guilabel>CelestialBody</guilabel> to model Saturn's
      moon Titan. Note you must obtain the SPICE kernel named "sat351.bsp"
      from <link
      xlink:href="ftp://naif.jpl.nasa.gov/pub/naif/generic_kernels/spk/satellites/">here</link>
      and place it in the directory identified in the script snippet
      below</para>

      <programlisting><code>Create Moon Titan
Titan.NAIFId               = 606
Titan.OrbitSpiceKernelName = {...
                    '../data/planetary_ephem/spk/DE421AllPlanets.bsp',...
                    '../data/planetary_ephem/spk/sat288.bsp'}
Titan.EquatorialRadius     = 2575
Titan.Flattening           = 0
Titan.Mu                   = 8978.5215
Titan.PosVelSource         = 'SPICE'
Titan.CentralBody          = 'Saturn'
Titan.RotationDataSource   = 'IAUSimplified'
Titan.OrientationEpoch     = 21545
Titan.SpinAxisRAConstant   = 36.41
Titan.SpinAxisRARate       = -0.036
Titan.SpinAxisDECConstant  = 83.94
Titan.SpinAxisDECRate      = -0.004
Titan.RotationConstant     = 189.64
Titan.RotationRate         = 22.5769768</code></programlisting>
    </informalexample>
  </refsection>
</refentry>
