
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>tpictr_c</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>tpictr_c</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>
              <a href="#Detailed_Input">Detailed_Input<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>
              <big><b><a href="#Examples">Examples<br></a></b></big>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
              <a href="#Index_Entries">Index_Entries<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
   tpictr_c ( Create a Time Format Picture ) 

   void tpictr_c ( ConstSpiceChar * sample,
                   SpiceInt         pictln,
                   SpiceInt         errmln,
                   SpiceChar      * pictur,
                   SpiceBoolean   * ok,
                   SpiceChar      * errmsg )

</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
   Create a time format picture suitable for use by the routine
   <a href="timout_c.html">timout_c</a> from a given sample time string.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
   TIME


</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
   VARIABLE  I/O  DESCRIPTION
   --------  ---  --------------------------------------------------
   sample     I   A sample time string.
   pictln     I   The length for the output picture string.
   errmln     I   The length for the output error string.
   pictur     O   A format picture that describes sample.
   ok         O   Flag indicating whether sample parsed successfully.
   errmsg     O   Diagnostic returned if sample cannot be parsed.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
   sample      is a representative time string to use as a model to
               format time strings.

   pictln      is the allowed length for the output picture. This length
               must large enough to hold the output string plus the null
               terminator. If the output string is expected to have x
               characters, `pictln' needs to be x + 1. 80 is a reasonable
               value for `pictln' (79 characters plus the null
               terminator).

   errmln      is the allowed length for the output error string.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
   pictur      is a format picture suitable for use with the SPICE
               routine <a href="timout_c.html">timout_c</a>. This picture, when used to format an
               epoch via <a href="timout_c.html">timout_c</a>, will yield the same time components in
               the same order as the components in sample.

   ok          is a logical flag indicating whether the input format
               sample could be parsed. If all of the components of
               sample are recognizable, ok will be returned with the
               value SPICEFALSE. If some part of pictur cannot be
               parsed, ok will be returned with the value SPICEFALSE.

   errmsg      is a diagnostic message that indicates what part of
               sample was not recognizable. If sample was successfully
               parsed, ok will be SPICEFALSE and errmsg will be
               returned as an empty string.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
   1)  All problems with the inputs are reported via `ok' and `errmsg'.

   2)  If a format picture can not be created from the sample
       time string, `pictur' is returned as a blank string.

   3)  If the `sample' input string pointer is null, the error
       SPICE(NULLPOINTER) is signaled.

   4)  If the `sample' input string has zero length, the error
       SPICE(EMPTYSTRING) is signaled.

   5)  If any of the `pictur' or `errmsg' output string pointers is
       null, the error SPICE(NULLPOINTER) is signaled.

   6)  If any of the `pictur' or `errmsg' output strings has length
       less than two characters, the error SPICE(STRINGTOOSHORT) is
       signaled, since the output string is too short to contain one
       character of output data plus a null terminator.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
   Although the routine <a href="timout_c.html">timout_c</a> provides CSPICE users with a great
   deal of flexibility in formatting time strings, users must
   master the means by which a time picture is constructed
   suitable for use by <a href="timout_c.html">timout_c</a>.

   This routine allows CSPICE users to supply a sample time string
   from which a corresponding time format picture can be created,
   freeing users from the task of mastering the intricacies of
   the routine <a href="timout_c.html">timout_c</a>.

   Note that <a href="timout_c.html">timout_c</a> can produce many time strings whose patterns
   can not be discerned by this routine. When such outputs are
   called for, the user must consult <a href="timout_c.html">timout_c</a> and construct the
   appropriate format picture &quot;by hand.&quot; However, these exceptional
   formats are not widely used and are not generally recognizable
   to an uninitiated reader.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
   The numerical results shown for this example may differ across
   platforms. The results depend on the SPICE kernels used as input,
   the compiler and supporting libraries, and the machine specific
   arithmetic implementation.

   1) Given a sample with the format of the UNIX date string
      local to California, create a SPICE time picture for use
      in <a href="timout_c.html">timout_c</a>.

      Using that SPICE time picture, convert a series of ephemeris
      times to that picture format.

      Use the LSK kernel below to load the leap seconds and time
      constants required for the conversions.

         naif0012.tls


      Example code begins here.


      /.
         Program tpictr_ex1
      ./
      #include &lt;stdio.h&gt;
      #include &quot;SpiceUsr.h&quot;

      int main( )
      {

         /.
         Local parameters.
         ./
         #define ERRLEN       400
         #define TIMLEN       65

         /.
         Local variables
         ./
         SpiceBoolean         ok;

         SpiceChar            err    [ERRLEN];
         SpiceChar            pictur [TIMLEN];
         SpiceChar          * sample;
         SpiceChar            timstr [TIMLEN];
         SpiceChar          * utcstr;

         SpiceDouble          et;


         /.
         Load LSK file.
         ./
         <a href="furnsh_c.html">furnsh_c</a> ( &quot;naif0012.tls&quot; );

         /.
         Create the required time picture.
         ./
         sample = &quot;Thu Oct 01 11:11:11 PDT 1111&quot;;

         <b>tpictr_c</b> ( sample, ERRLEN, TIMLEN, pictur, &amp;ok, err );

         if ( ! ok )
         {

            printf( &quot;Invalid time picture.\n&quot; );
            printf( &quot;%s\n&quot;, err );

         }
         else
         {

            /.
            Convert the input UTC time to ephemeris time.
            ./
            utcstr = &quot;24 Mar 2018  16:23:00 UTC&quot;;
            <a href="str2et_c.html">str2et_c</a> ( utcstr, &amp;et );

            /.
            Now convert `et' to the desired output format.
            ./
            <a href="timout_c.html">timout_c</a> ( et, pictur, TIMLEN, timstr );

            printf( &quot;Sample format:  %s\n&quot;, sample );
            printf( &quot;Time picture :  %s\n&quot;, pictur );
            printf( &quot;\n&quot; );
            printf( &quot;Input UTC    :  %s\n&quot;, utcstr );
            printf( &quot;Output       :  %s\n&quot;, timstr );

         }

         return ( 0 );
      }


      When this program was executed on a Mac/Intel/cc/64-bit
      platform, the output was:


      Sample format:  Thu Oct 01 11:11:11 PDT 1111
      Time picture :  Wkd Mon DD HR:MN:SC PDT YYYY ::UTC-7

      Input UTC    :  24 Mar 2018  16:23:00 UTC
      Output       :  Sat Mar 24 09:23:00 PDT 2018
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
   J. Diaz del Rio     (ODC Space)
   W.L. Taber          (JPL)
   E.D. Wright         (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
   -CSPICE Version 1.1.0, 05-AUG-2021 (JDR)

       Changed the input argument names &quot;lenout&quot; and &quot;lenerr&quot; to
       &quot;pictln&quot; and &quot;errmln&quot; for consistency with other routines.

       Edited the header to comply with NAIF standard.
       Converted the existing code fragments into complete example
       and added reference to required LSK.

   -CSPICE Version 1.0.0, 23-JUL-1999 (EDW) (WLT)
</PRE>
<h4><a name="Index_Entries">Index_Entries</a></h4>
<PRE>
   Use a sample time string to produce a time format picture
</PRE>
<h4>Link to routine tpictr_c source file <a href='../../../src/cspice/tpictr_c.c'>tpictr_c.c</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:41:14 2021</pre>

</body>
</html>

