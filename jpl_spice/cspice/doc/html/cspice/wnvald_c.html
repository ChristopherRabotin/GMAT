
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>wnvald_c</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>wnvald_c</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>
              <a href="#Detailed_Input">Detailed_Input<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>
              <big><b><a href="#Examples">Examples<br></a></b></big>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
              <a href="#Index_Entries">Index_Entries<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
   wnvald_c ( Validate a DP window ) 

   void wnvald_c ( SpiceInt       size,
                   SpiceInt       n,
                   SpiceCell    * window )

</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
   Form a valid double precision window from the contents
   of a window array.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
   <a href="../req/windows.html">WINDOWS</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
   WINDOWS


</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
   VARIABLE  I/O  DESCRIPTION
   --------  ---  --------------------------------------------------
   size       I   Size of window.
   n          I   Original number of endpoints.
   window    I-O  Input, output window.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
   size        is the size of the window to be validated. This is the
               maximum number of endpoints that the cell used to
               implement the window is capable of holding at any one
               time.

   n           is the original number of endpoints in the input cell.

   window      on input is a (possibly uninitialized) cell array of
               maximum size `size' containing `n' endpoints of (possibly
               unordered and non-disjoint) intervals.

               `window' must be declared as a double precision SpiceCell.

               CSPICE provides the following macro, which declares and
               initializes the cell

                  SPICEDOUBLE_CELL        ( window, WINDOWSZ );

               where WINDOWSZ is the maximum capacity of `window'.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
   window      on output is a validated window, in which any overlapping
               input intervals have been merged and the resulting set of
               intervals is arranged in increasing order.

               `window' is ready for use with any of the window routines.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
   1)  If the original number of endpoints `n' is odd, the error
       SPICE(UNMATCHENDPTS) is signaled by a routine in the call tree
       of this routine.

   2)  If the original number of endpoints of the window exceeds its
       size, the error SPICE(WINDOWTOOSMALL) is signaled by a routine
       in the call tree of this routine.

   3)  If the left endpoint is greater than the right endpoint, the
       error SPICE(BADENDPOINTS) is signaled by a routine in the call
       tree of this routine.

   4)  If the `window' cell argument has a type other than
       SpiceDouble, the error SPICE(TYPEMISMATCH) is signaled.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
   This routine takes as input a cell array containing pairs of
   endpoints and validates it to form a window.

   On input, window is a cell of size size containing n endpoints.
   During validation, the intervals are ordered, and overlapping
   intervals are merged. On output, the cardinality of window is
   the number of endpoints remaining, and window is ready for use with
   any of the window routines.

   Because validation is done in place, there is no chance of
   overflow.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
   The numerical results shown for this example may differ across
   platforms. The results depend on the SPICE kernels used as input,
   the compiler and supporting libraries, and the machine specific
   arithmetic implementation.

   1) Define an array containing a set of unordered and possibly
      overlapping intervals, and validate the array as a SPICE
      window.


      Example code begins here.


      /.
         Program wnvald_ex1
      ./
      #include &lt;stdio.h&gt;
      #include &lt;string.h&gt;
      #include &quot;SpiceUsr.h&quot;
      #include &quot;SpiceZmc.h&quot;

      int main()
      {
         /.
         Local parameters.
         ./
         #define WINSIZ     20
         #define DATSIZ     16

         /.
         Local variables
         ./
         SPICEDOUBLE_CELL ( window, WINSIZ );

         SpiceDouble        winData [DATSIZ] =
                            {
                               0.0,    0.0,
                              10.0,   12.0,
                               2.0,    7.0,
                              13.0,   15.0,
                               1.0,    5.0,
                              23.0,   29.0,
                               0.0,    0.0,
                               0.0,    0.0
                            };

         SpiceInt           i;

         /.
         Insert the data into the SPICE cell array.
         ./
         MOVED ( winData, WINSIZ, window.data );

         /.
         Validate the input `window' array as a SPICE window.
         ./
         <b>wnvald_c</b> ( WINSIZ, DATSIZ, &amp;window );

         printf ( &quot;Current intervals:   %d\n&quot;, (int)<a href="card_c.html">card_c</a>(&amp;window)/2 );
         printf ( &quot;Maximum intervals:   %d\n&quot;, (int)<a href="size_c.html">size_c</a>(&amp;window)/2 );
         printf ( &quot;\nIntervals\n\n&quot; );

         for ( i = 0;   i &lt; <a href="card_c.html">card_c</a>(&amp;window);   i+=2 )
         {
            printf ( &quot;%10.6f   %10.6f\n&quot;,
                     SPICE_CELL_ELEM_D (&amp;window, i  ),
                     SPICE_CELL_ELEM_D (&amp;window, i+1)  );
         }

         return ( 0 );
      }


      When this program was executed on a Mac/Intel/cc/64-bit
      platform, the output was:


      Current intervals:   5
      Maximum intervals:   10

      Intervals

        0.000000     0.000000
        1.000000     7.000000
       10.000000    12.000000
       13.000000    15.000000
       23.000000    29.000000
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
   N.J. Bachman        (JPL)
   J. Diaz del Rio     (ODC Space)
   H.A. Neilan         (JPL)
   W.L. Taber          (JPL)
   I.M. Underwood      (JPL)
   E.D. Wright         (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
   -CSPICE Version 1.0.4, 10-AUG-2021 (JDR)

       Edited the header to comply to NAIF standard. Created complete code
       example from code fragment and added example's problem statement.

       Extended description of argument &quot;window&quot; in -Detailed_Input to include
       type and preferred declaration method.

       Improved description of argument &quot;window&quot; in -Detailed_Output.

   -CSPICE Version 1.0.3, 12-JUL-2016 (EDW)

       Edit to example program to use &quot;%d&quot; with explicit casts
       to int for printing SpiceInts with printf.

   -CSPICE Version 1.0.2, 18-DEC-2008 (EDW)

       Corrected a typo in the version ID of the 08-OCT-2004
       -Version entry. 1.0.0 changed to 1.0.1.

   -CSPICE Version 1.0.1, 08-OCT-2004 (NJB)

       Corrected typo in code example; also added &quot;return&quot;
       statement to code example.

   -CSPICE Version 1.0.0, 29-JUL-2002 (NJB) (HAN) (WLT) (IMU)
</PRE>
<h4><a name="Index_Entries">Index_Entries</a></h4>
<PRE>
   validate a d.p. window
</PRE>
<h4>Link to routine wnvald_c source file <a href='../../../src/cspice/wnvald_c.c'>wnvald_c.c</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:41:15 2021</pre>

</body>
</html>

