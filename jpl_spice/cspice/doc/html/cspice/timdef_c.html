
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>timdef_c</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>timdef_c</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>
              <a href="#Detailed_Input">Detailed_Input<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>
              <big><b><a href="#Examples">Examples<br></a></b></big>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
              <a href="#Index_Entries">Index_Entries<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
   timdef_c ( Time Software Defaults ) 

   void timdef_c ( ConstSpiceChar * action,
                   ConstSpiceChar * item,
                   SpiceInt         vallen,
                   SpiceChar      * value )

</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
   Set and retrieve the defaults associated with calendar
   input strings.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
   TIME


</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
   VARIABLE  I/O  DESCRIPTION
   --------  ---  --------------------------------------------------
   action     I   is the kind of action to take &quot;SET&quot; or &quot;GET&quot;.
   item       I   is the default item of interest.
   vallen     I   Length of list for output.
   value     I-O  is the value associated with the default item.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
   action      is a word that specifies whether <b>timdef_c</b> sets the
               value associated with `item' or retrieves the value
               associated with `item'. The allowed values for
               `action' are &quot;SET&quot; and &quot;GET&quot;. The routine is not
               sensitive to the case of the letters in `action'.

   item        is the default items whose value should be set or
               retrieved. The items that may be requested are:

                  item        Allowed Values
                  ---------   --------------
                  CALENDAR    GREGORIAN
                              JULIAN
                              MIXED

                  SYSTEM      TDB
                              TDT
                              TT
                              UTC

                  ZONE        EST, EDT, CST, CDT, MST, MDT, PST, PDT
                              UTC+hr
                              UTC-HR       ( 0 &lt;= hr &lt; 13 )
                              UTC+hr:MN    ( 0 &lt;= mn &lt; 60 )
                              UTC-HR:MN

               The case of `item' is not significant.

   value       if the action is &quot;SET&quot; then `value' is an input and
               is the value to be associated with `item'. Note that
               `value' is checked to ensure it is within the range
               of allowed values for `item'. If it is not within
               the expected range and appropriate error message
               is signaled. The case of `value' is not significant.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
   value       if the action is &quot;GET&quot; then `value' will be the
               value associated with the requested `item'. Note that
               when time zones are set, they are translated to the
               UTC offset form ( UTC(+/-)HR[:MN] ). When `value' is
               an output it will be in upper case.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
   1)  If the `action' specified is not &quot;SET&quot; or &quot;GET&quot;, the error
       SPICE(BADACTION) is signaled.

   2)  If the `item' specified is not one the recognized items, the error
       SPICE(BADTIMEITEM) is signaled by a routine in the call tree of this
       routine.

   3)  If the value associated with a &quot;SET&quot; item input is not one of the
       recognized items, the error SPICE(BADDEFAULTVALUE) is signaled by a
       routine in the call tree of this routine.

   4)  If any of the `action' or `item' input string pointers are null, the
       error SPICE(NULLPOINTER) is signaled.

   5)  If any of the `action' or `item' input strings have zero length, the
       error SPICE(EMPTYSTRING) is signaled, since the input string cannot be
       converted to a Fortran-style string in this case.

   6)  If the `value' string pointer is null, the error SPICE(NULLPOINTER)
       is signaled.

   7)  If `action' is &quot;SET&quot; and the `value' input string has zero length, the
       error SPICE(EMPTYSTRING) is signaled, since the input string cannot be
       converted to a Fortran-style string in this case.

   8)  If `action' is &quot;GET&quot; and the `value' output string has length less than
       two characters, the error SPICE(STRINGTOOSHORT) is signaled, since the
       output string is too short to contain one character of output data plus
       a null terminator, and therefore it cannot be passed to the underlying
       Fortran routine.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
   This routine exists to allow SPICE toolkit users to alter
   the default interpretation of time strings made by the
   routine <a href="str2et_c.html">str2et_c</a>.

   Normally, unlabeled time strings are assumed to belong to
   the Gregorian Calendar and are UTC times. However, you
   may alter the default behavior by calling <b>timdef_c</b>.

   Calendar
   --------

   You may set the calendar to be one of the following

   Gregorian   --- This is the calendar used daily the
                   Western Hemisphere. Leap years occur in this
                   calendar every 4 years except on centuries
                   such as 1900 that are not divisible by 400.

   Julian      --- This is the calendar that was in use prior
                   to October 15, 1582. Leap years occur every
                   4 years on the Julian Calendar (including all
                   centuries.) October 5, 1582 on the Julian
                   calendar corresponds to October 15, 1582 of the
                   Gregorian Calendar.

   Mixed       --- This calendar uses the Julian calendar
                   for days prior to October 15, 1582 and
                   the Gregorian calendar for days on or after
                   October 15, 1582.

   To set the default calendar, select on of the above for `value'
   and make the following call.

      <b>timdef_c</b> ( &quot;SET&quot;, &quot;CALENDAR&quot;, lenval, value );


   System
   ------

   You may set the system used for keeping time to be UTC (default)
   TDB (barycentric Dynamical Time), TDT (Terrestrial Dynamical
   Time), or TT (Terrestrial Time). TDT and TT represent the same
   time system. Both TDB and TT (TDT) have no leapseconds. As such
   the time elapsed between any two epochs on these calendars does
   not depend upon when leapseconds occur.

   To set the default time system, select TDT, TT, TDB or UTC for
   `value' and make the following call.

      <b>timdef_c</b> ( &quot;SET&quot;, &quot;SYSTEM&quot;, lenval, value );

   Note that such a call has the side effect of setting the value
   associated with ZONE to a blank.

   Zone
   ----

   You may alter the UTC system by specifying a time zone (UTC
   offset). For example you may specify that epochs are referred
   to Pacific Standard Time (PST --- UTC-7). The standard
   abbreviations for U.S. time zones are recognized:

      EST   UTC-5
      EDT   UTC-4
      CST   UTC-6
      CDT   UTC-5
      MST   UTC-7
      MDT   UTC-6
      PST   UTC-8
      PDT   UTC-7

   In addition you may specify any commercial time zone by using
   &quot;offset&quot; notation. This notation starts with the letters &quot;UTC&quot;
   followed by a + for time zones east of Greenwich and - for time
   zones west of Greenwich. This is followed by the number of hours
   to add or subtract from UTC. This is optionally followed by a
   colon &quot;:&quot; and the number of minutes to add or subtract (based on
   the sign that follows &quot;UTC&quot;) to get the local time zone. Thus to
   specify the time zone of Calcutta you would specify the time zone
   to be UTC+5:30. To specify the time zone of Newfoundland use the
   time zone UTC-3:30.

   To set a default time zone, select one of the &quot;built-in&quot; U.S.
   zones or construct an offset as discussed above. Then make the
   call

      <b>timdef_c</b> ( &quot;SET&quot;, &quot;ZONE&quot;, lenval, value );

   If you &quot;GET&quot; a &quot;ZONE&quot; it will either be blank, or have the
   form &quot;UTC+/-HR[:MN]&quot;

   Note that such a call has the side effect of setting the value
   associated with SYSTEM to a blank.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
   The numerical results shown for these examples may differ across
   platforms. The results depend on the SPICE kernels used as
   input, the compiler and supporting libraries, and the machine
   specific arithmetic implementation.

   1) Retrieve the current settings for calendar, system and zone
      parameters of the time subsystem calendar string processing.

      Example code begins here.


      /.
         Program timdef_ex1
      ./
      #include &lt;stdio.h&gt;
      #include &quot;SpiceUsr.h&quot;

      int main( )
      {

         /.
         Local constants.
         ./
         #define        MAXLEN        40

         ConstSpiceChar        * item   [ 3 ] = { &quot;CALENDAR&quot;,
                                                  &quot;SYSTEM&quot;,
                                                  &quot;ZONE&quot;    };

         /.
         Local variables.
         ./
         SpiceChar               value  [ MAXLEN ];
         SpiceInt                i;

         for ( i = 0;  i &lt; 3;  i++ )
         {

            /.
            Get the value for the current `item'
            ./
            <b>timdef_c</b>( &quot;GET&quot;, item[i], MAXLEN, value );
            printf ( &quot;%s -&gt; %s\n&quot;, item[i], value    );

         }

         return ( 0 );
      }


      When this program was executed on a Mac/Intel/cc/64-bit
      platform, the output was:


      CALENDAR -&gt; GREGORIAN
      SYSTEM -&gt; UTC
      ZONE -&gt;


   2) Suppose you wish to modify the behavior of <a href="str2et_c.html">str2et_c</a> so that
      it interprets unlabeled time strings as being times in
      Pacific Daylight Time and that you want the calendar to use
      to be the &quot;Mixed&quot; calendar.


      Example code begins here.


      /.
         Program timdef_ex2
      ./
      #include &lt;stdio.h&gt;
      #include &quot;SpiceUsr.h&quot;

      int main( )
      {

         /.
         Local constants.
         ./
         #define        MAXLEN        40

         ConstSpiceChar        * item   [ 3 ] = { &quot;CALENDAR&quot;,
                                                  &quot;SYSTEM&quot;,
                                                  &quot;ZONE&quot;    };

         /.
         Local variables.
         ./
         SpiceChar               value  [ MAXLEN ];
         SpiceInt                i;

         /.
         Retrieve the initial values.
         ./
         printf ( &quot;Initial values:\n&quot; );
         for ( i = 0;  i &lt; 3;  i++ )
         {

            /.
            Get the value for the current `item'
            ./
            <b>timdef_c</b>( &quot;GET&quot;, item[i], MAXLEN, value );
            printf ( &quot;   %s -&gt; %s\n&quot;, item[i], value    );

         }

         /.
         Apply the required changes.
         ./
         <b>timdef_c</b> ( &quot;SET&quot;, &quot;CALENDAR&quot;, MAXLEN, &quot;MIXED&quot; );
         <b>timdef_c</b> ( &quot;SET&quot;, &quot;ZONE&quot;    , MAXLEN, &quot;PDT&quot;   );

         /.
         Retrieve the final values.
         ./
         printf ( &quot;Final values:\n&quot; );
         for ( i = 0;  i &lt; 3;  i++ )
         {

            /.
            Get the value for the current `item'
            ./
            <b>timdef_c</b>( &quot;GET&quot;, item[i], MAXLEN, value );
            printf ( &quot;   %s -&gt; %s\n&quot;, item[i], value    );

         }

         return ( 0 );
      }


      When this program was executed on a Mac/Intel/cc/64-bit
      platform, the output was:


      Initial values:
         CALENDAR -&gt; GREGORIAN
         SYSTEM -&gt; UTC
         ZONE -&gt;
      Final values:
         CALENDAR -&gt; MIXED
         SYSTEM -&gt;
         ZONE -&gt; UTC-7
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
   N.J. Bachman        (JPL)
   J. Diaz del Rio     (ODC Space)
   E.D. Wright         (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
   -CSPICE Version 1.1.0, 05-JUL-2021 (EDW) (JDR)

       Changed the input argument name &quot;lenout&quot; to &quot;vallen&quot; for consistency
       with other routines.

       Fixed bug: Added missing &quot;else&quot; block to signal the corresponding error
       when the input action is not &quot;GET&quot; or &quot;SET&quot;.

       Added time system name &quot;TT&quot; (Terrestrial Time) as alternate
       assignment of &quot;TDT&quot; (Terrestrial Dynamical Time).

       Edited the header to comply with NAIF standard. Added complete code
       examples. Added entries #4 to #8 in -Exceptions section.

   -CSPICE Version 1.0.1, 13-APR-2000 (NJB)

       Made some minor updates and corrections in the header comments.

   -CSPICE Version 1.0.0, 04-FEB-1998 (EDW)
</PRE>
<h4><a name="Index_Entries">Index_Entries</a></h4>
<PRE>
   Change time software defaults.
   Time Zones
   Gregorian and Julian Calendars
</PRE>
<h4>Link to routine timdef_c source file <a href='../../../src/cspice/timdef_c.c'>timdef_c.c</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:41:14 2021</pre>

</body>
</html>

