
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>lparse_c</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>lparse_c</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>
              <a href="#Detailed_Input">Detailed_Input<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>
              <big><b><a href="#Examples">Examples<br></a></b></big>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
              <a href="#Index_Entries">Index_Entries<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
   lparse_c ( Parse items from a list ) 

   void lparse_c ( ConstSpiceChar   * list,
                   ConstSpiceChar   * delim,
                   SpiceInt           nmax,
                   SpiceInt           itemln,
                   SpiceInt         * n,
                   void             * items   )

</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
   Parse a list of items delimited by a single character.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
   CHARACTER
   LIST
   PARSING
   STRING


</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
   VARIABLE  I/O  DESCRIPTION
   --------  ---  --------------------------------------------------
   list       I    List of items delimited by delim.
   delim      I    Single character used to delimit items.
   nmax       I    Maximum number of items to return.
   itemln     I    Length of strings in item array.
   n          O    Number of items in the list.
   items      O    Items in the list, left justified.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
   list        is a string containing a list of items delimited by the
               single character delim. Consecutive delimiters, and
               delimiters at the beginning and end of the list, are
               considered to delimit empty items. A blank or empty
               list is considered to contain a single (empty) item.

   delim       is the character delimiting the items in the list.
               This may be any ASCII character, including a blank.
               However, by definition, consecutive blanks are NOT
               considered to be consecutive delimiters. In addition,
               leading and trailing blanks are ignored.

   nmax        is the maximum number of items to be returned from
               the list. This allows the user to guard against
               overflow from a list containing more items than
               expected.

   itemln      is the declared length of the strings in the string
               array items. This length must include room for the
               terminating null character in each string.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
   n           is the number of items in the list. `n' may be
               any number between one and `nmax'. `n' is always the
               number of delimiters plus one.

   items       is an array of strings containing the items in the list,
               left justified. Any item in the list too long to fit into
               an element of items is truncated on the right. Empty
               (null) or blank items in the input string are mapped to
               empty strings on output.

               items should be declared by the caller as:

                  SpiceCharitem [nmax][itemln]
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
   1)  If the string length of `items' is too short to accommodate
       an item, the item will be truncated on the right.

   2)  If `nmax' is less than one, then `n' will be set to zero, and no
       items will be returned. This case is not an error.

   3)  If the input `list' string is empty, the routine will return a
       single, empty output string in `items'. This case is not an error.

   4)  If any of the `list', `delim' or `list' input string pointers
       is null, the error SPICE(NULLPOINTER) is signaled.

   5)  If any of the `list' or `delim' input strings has zero length,
       the error SPICE(EMPTYSTRING) is signaled.

   6)  If the `items' output string pointer is null, the error
       SPICE(NULLPOINTER) is signaled.

   7)  If the `items' output string has length less than two
       characters, the error SPICE(STRINGTOOSHORT) is signaled, since
       the output string is too short to contain one character of
       output data plus a null terminator.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
   The numerical results shown for these examples may differ across
   platforms. The results depend on the SPICE kernels used as
   input, the compiler and supporting libraries, and the machine
   specific arithmetic implementation.

   1) Parse a character string to retrieve the words contained
      within.

      Example code begins here.


      /.
         Program lparse_ex1
      ./
      #include &lt;stdio.h&gt;
      #include &quot;SpiceUsr.h&quot;

      int main( )
      {

         /.
         Local constants.
         ./
         #define NMAX         25
         #define STRLEN       256

         /.
         Local variables.
         ./
         SpiceChar          * delim;
         SpiceChar            items  [NMAX][STRLEN];
         SpiceChar          * list;

         SpiceInt             i;
         SpiceInt             n;

         /.
         Define the list of delimited items.

         Think of a sentence as a list delimited by a space.
         `delim' is assigned to a space.
         ./
         list  = &quot;Run and find out.&quot;;
         delim = &quot; &quot;;

         /.
         Parse the items from `list'.
         ./
         <b>lparse_c</b> ( list, delim, NMAX, STRLEN, &amp;n, items );

         /.
         Output the `items'.
         ./
         for ( i = 0; i &lt; n; i++ )
         {

            printf( &quot;Item %2d: %s\n&quot;, i, items[i] );

         }

         return ( 0 );
      }


      When this program was executed on a Mac/Intel/cc/64-bit
      platform, the output was:


      Item  0: Run
      Item  1: and
      Item  2: find
      Item  3: out.


   2) Repeat the previous example with different character
      delimiting the items in the list and different maximum number
      of items to return.

      Example code begins here.


      /.
         Program lparse_ex2
      ./
      #include &lt;stdio.h&gt;
      #include &lt;string.h&gt;
      #include &quot;SpiceUsr.h&quot;

      int main( )
      {

         /.
         Local constants.
         ./
         #define NCASES       2
         #define NMAXT        25
         #define STRLEN       255

         /.
         Local variables.
         ./
         SpiceChar            delim  [NCASES][2];
         SpiceChar            items  [NMAXT][STRLEN];
         SpiceChar            list   [NCASES][STRLEN];

         SpiceInt             i;
         SpiceInt             j;
         SpiceInt             n;
         SpiceInt             nmax   [NCASES];

         /.
         Define the lists of delimited items, the delimiting
         character and the maximum number of items to return.
         ./
         strcpy( list[0],  &quot;//option1//option2/ //&quot; );
         strcpy( delim[0], &quot;/&quot; );
         nmax[0] = 20;

         strcpy( list[1],  &quot; ,bob,   carol,, ted,  alice&quot; );
         strcpy( delim[1], &quot;,&quot; );
         nmax[1] = 4;

         for ( i = 0; i &lt; NCASES; i++ )
         {

            printf( &quot;Case %d:\n&quot;, i );
            printf( &quot;  String: \&quot;%s\&quot;\n&quot;, list[i]  );
            printf( &quot;  DELIM : \&quot;%s\&quot;\n&quot;, delim[i] );
            printf( &quot;  NMAX  : %2d\n&quot;, nmax[i] );
            printf( &quot;  Output items:\n&quot; );

            /.
            Parse the items from `list'.
            ./
            <b>lparse_c</b> ( list[i], delim[i], nmax[i], STRLEN, &amp;n, items );

            /.
            Output the `items'.
            ./
            for ( j = 0; j &lt; n; j++ )
            {
               printf( &quot;     Item %2d: \&quot;%s\&quot;\n&quot;, j, items[j] );
            }

         }

         return ( 0 );
      }


      When this program was executed on a Mac/Intel/cc/64-bit
      platform, the output was:


      Case 0:
        String: &quot;//option1//option2/ //&quot;
        DELIM : &quot;/&quot;
        NMAX  : 20
        Output items:
           Item  0: &quot;&quot;
           Item  1: &quot;&quot;
           Item  2: &quot;option1&quot;
           Item  3: &quot;&quot;
           Item  4: &quot;option2&quot;
           Item  5: &quot;&quot;
           Item  6: &quot;&quot;
           Item  7: &quot;&quot;
      Case 1:
        String: &quot; ,bob,   carol,, ted,  alice&quot;
        DELIM : &quot;,&quot;
        NMAX  :  4
        Output items:
           Item  0: &quot;&quot;
           Item  1: &quot;bob&quot;
           Item  2: &quot;carol&quot;
           Item  3: &quot;&quot;
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
   N.J. Bachman        (JPL)
   J. Diaz del Rio     (ODC Space)
   W.L. Taber          (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
   -CSPICE Version 2.3.0, 04-AUG-2021 (JDR)

       Changed input argument name &quot;lenout&quot; to &quot;itemln&quot; for consistency
       with other routines.

       Edited the header to comply with NAIF standard. Added complete code
       example.

   -CSPICE Version 2.2.0, 18-MAY-2001 (WLT)

       Added a cast to (char *) in the call to  F2C_ConvertTrStrArr

   -CSPICE Version 2.1.0, 20-APR-2000 (NJB)

       Bug fix: set n to zero for nmax &lt; 1.

   -CSPICE Version 2.0.0, 25-MAR-2000 (NJB)

       Updated header to accurately describe treatment of null tokens.
       Updated code to handle the case of an empty input string or
       nmax &lt; 1.

       Changed typedef SpiceVoid to void.

   -CSPICE Version 1.0.0, 09-FEB-1998 (NJB)
</PRE>
<h4><a name="Index_Entries">Index_Entries</a></h4>
<PRE>
   parse items from a list
</PRE>
<h4>Link to routine lparse_c source file <a href='../../../src/cspice/lparse_c.c'>lparse_c.c</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:41:09 2021</pre>

</body>
</html>

