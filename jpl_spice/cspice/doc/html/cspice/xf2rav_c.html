
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>xf2rav_c</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr><td>
<div align="center">
Index of Functions: 
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div>
</td></tr>

    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>xf2rav_c</b></td>
    </tr>
    

    <tr>
      <td style="vertical-align: top;">

       <br>
       <div align="left"><b>Table of contents</b></div>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>
              <a href="#Detailed_Input">Detailed_Input<br></a>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>
              <big><b><a href="#Examples">Examples<br></a></b></big>

              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
              <a href="#Index_Entries">Index_Entries<br></a>
            </td>
          </tr>
        </tbody>
</table>
<hr>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
   xf2rav_c ( Transform to rotation and angular velocity) 

   void xf2rav_c ( ConstSpiceDouble   xform [6][6],
                   SpiceDouble        rot   [3][3],
                   SpiceDouble        av    [3]     )

</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
   Determine the rotation matrix and angular velocity of the
   rotation from a state transformation matrix.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
   <a href="../req/rotation.html">ROTATION</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
   FRAMES


</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
   VARIABLE  I/O  DESCRIPTION
   --------  ---  --------------------------------------------------
   xform      I   is a state transformation matrix.
   rot        O   is the rotation associated with `xform'.
   av         O   is the angular velocity associated with `xform'.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
   xform       is a state transformation matrix from one frame
               FRAME1 to some other frame FRAME2.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
   rot         is a rotation that gives the transformation from
               some frame FRAME1 to another frame FRAME2.

   av          is the angular velocity of the transformation.
               In other words, if `p' is the position of a fixed
               point in FRAME2, then from the point of view of
               FRAME1, `p' rotates (in a right handed sense) about
               an axis parallel to `av'. Moreover the rate of rotation
               in radians per unit time is given by the length of
               `av'.

               More formally, the velocity `v' of `p' in FRAME1 is
               given by
                                  T
                   v  = av x ( rot  * p )

               The components of `av' are given relative to FRAME1.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
   Error free.

   1)  No checks are performed on `xform' to ensure that it is indeed
       a state transformation matrix.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
   This routine is essentially a macro routine for converting
   state transformation matrices into the equivalent representation
   in terms of a rotation and angular velocity.

   This routine is an inverse of the routine <a href="rav2xf_c.html">rav2xf_c</a>.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
   The numerical results shown for this example may differ across
   platforms. The results depend on the SPICE kernels used as
   input, the compiler and supporting libraries, and the machine
   specific arithmetic implementation.

   1) Suppose that you wanted to determine the angular velocity
      of the Earth body-fixed reference frame with respect to
      J2000 at a particular epoch ET. The following code example
      illustrates a procedure for computing the angular velocity.

      Use the meta-kernel shown below to load the required SPICE
      kernels.


         KPL/MK

         File name: xf2rav_ex1.tm

         This meta-kernel is intended to support operation of SPICE
         example programs. The kernels shown here should not be
         assumed to contain adequate or correct versions of data
         required by SPICE-based user applications.

         In order for an application to use this meta-kernel, the
         kernels referenced here must be present in the user's
         current working directory.

         The names and contents of the kernels referenced
         by this meta-kernel are as follows:

            File name                     Contents
            ---------                     --------
            earth_720101_070426.bpc       Earth historical
                                          binary PCK
            naif0012.tls                  Leapseconds

         \begindata

            KERNELS_TO_LOAD = ( 'earth_720101_070426.bpc',
                                'naif0012.tls'            )

         \begintext

         End of meta-kernel


      Example code begins here.


      /.
         Program xf2rav_ex1
      ./
      #include &lt;stdio.h&gt;
      #include &quot;SpiceUsr.h&quot;

      int main( )
      {

         /.
         Local parameters.
         ./
         #define META         &quot;xf2rav_ex1.tm&quot;
         #define UTCSTR       &quot;2005-OCT-10 16:00:00&quot;

         /.
         Local variables.
         ./
         SpiceDouble          av     [3];
         SpiceDouble          et;
         SpiceDouble          ftmtrx [6][6];
         SpiceDouble          rot    [3][3];

         SpiceInt             i;

         /.
         Load SPICE kernels.
         ./
         <a href="furnsh_c.html">furnsh_c</a> ( META );

         /.
         Convert the input time to seconds past J2000 TDB.
         ./
         <a href="str2et_c.html">str2et_c</a> ( UTCSTR, &amp;et );

         /.
         Get the transformation matrix from J2000 frame to
         ITRF93.
         ./
         <a href="sxform_c.html">sxform_c</a> ( &quot;J2000&quot;, &quot;ITRF93&quot;, et, ftmtrx );

         /.
         Now get the angular velocity by calling <b>xf2rav_c</b>
         ./
         <b>xf2rav_c</b> ( ftmtrx, rot, av );

         /.
         Display the results.
         ./
         printf( &quot;Rotation matrix:\n&quot; );
         for ( i = 0; i &lt; 3; i++ )
         {

            printf( &quot;%16.11f %15.11f %15.11f\n&quot;,
                    rot[i][0], rot[i][1], rot[i][2] );

         }

         printf( &quot;\n&quot; );
         printf( &quot;Angular velocity:\n&quot; );
         printf( &quot;%16.11f %15.11f %15.11f\n&quot;, av[0], av[1], av[2] );

         return ( 0 );
      }


      When this program was executed on a Mac/Intel/cc/64-bit
      platform, the output was:


      Rotation matrix:
        -0.18603277688  -0.98254352801   0.00014659080
         0.98254338275  -0.18603282936  -0.00053610915
         0.00055402128   0.00004429795   0.99999984555

      Angular velocity:
         0.00000004025   0.00000000324   0.00007292114
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
   None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
   N.J. Bachman        (JPL)
   J. Diaz del Rio     (ODC Space)
   W.L. Taber          (JPL)
   E.D. Wright         (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
   -CSPICE Version 1.0.2, 19-MAY-2020 (JDR)

       Edited the header to comply with NAIF standard. Added complete
       code example based on existing example.

       Added ROTATION to the required readings.

   -CSPICE Version 1.0.1, 12-APR-2007 (EDW)

       Edit to abstract.

   -CSPICE Version 1.0.0, 18-JUN-1999 (WLT) (NJB)
</PRE>
<h4><a name="Index_Entries">Index_Entries</a></h4>
<PRE>
   State transformation to rotation and angular velocity
</PRE>
<h4>Link to routine xf2rav_c source file <a href='../../../src/cspice/xf2rav_c.c'>xf2rav_c.c</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Fri Dec 31 18:41:15 2021</pre>

</body>
</html>

